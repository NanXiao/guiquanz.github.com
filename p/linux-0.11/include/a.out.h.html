<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>include/a.out.h - linux-0.11-ebook</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

code {
    font-family: consolas, monospace;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
  <h3>include/a.out.h - linux-0.11-ebook</h3>
   <a href="../index.html"> Table of Contents </a>
 <h4>Data types defined</h4>
 <ul>
<li><a href="#L6">exec</a></li>
<li><a href="#L111">nlist</a></li>
<li><a href="#L193">relocation_info</a></li>
</ul>
 <h4>Macros defined</h4>
 <ul>
<li><a href="#L25">NMAGIC</a></li>
<li><a href="#L128">N_ABS</a></li>
<li><a href="#L31">N_BADMAG</a></li>
<li><a href="#L137">N_BSS</a></li>
<li><a href="#L107">N_BSSADDR</a></li>
<li><a href="#L140">N_COMM</a></li>
<li><a href="#L134">N_DATA</a></li>
<li><a href="#L100">N_DATADDR</a></li>
<li><a href="#L48">N_DATOFF</a></li>
<li><a href="#L56">N_DRELOFF</a></li>
<li><a href="#L147">N_EXT</a></li>
<li><a href="#L143">N_FN</a></li>
<li><a href="#L164">N_INDR</a></li>
<li><a href="#L18">N_MAGIC</a></li>
<li><a href="#L178">N_SETA</a></li>
<li><a href="#L181">N_SETB</a></li>
<li><a href="#L180">N_SETD</a></li>
<li><a href="#L179">N_SETT</a></li>
<li><a href="#L184">N_SETV</a></li>
<li><a href="#L153">N_STAB</a></li>
<li><a href="#L64">N_STROFF</a></li>
<li><a href="#L60">N_SYMOFF</a></li>
<li><a href="#L131">N_TEXT</a></li>
<li><a href="#L52">N_TRELOFF</a></li>
<li><a href="#L69">N_TXTADDR</a></li>
<li><a href="#L43">N_TXTOFF</a></li>
<li><a href="#L150">N_TYPE</a></li>
<li><a href="#L125">N_UNDF</a></li>
<li><a href="#L23">OMAGIC</a></li>
<li><a href="#L79">PAGE_SIZE</a></li>
<li><a href="#L88">PAGE_SIZE</a></li>
<li><a href="#L92">PAGE_SIZE</a></li>
<li><a href="#L76">SEGMENT_SIZE</a></li>
<li><a href="#L82">SEGMENT_SIZE</a></li>
<li><a href="#L85">SEGMENT_SIZE</a></li>
<li><a href="#L89">SEGMENT_SIZE</a></li>
<li><a href="#L93">SEGMENT_SIZE</a></li>
<li><a href="#L27">ZMAGIC</a></li>
<li><a href="#L2">_A_OUT_H</a></li>
<li><a href="#L36">_N_BADMAG</a></li>
<li><a href="#L40">_N_HDROFF</a></li>
<li><a href="#L95">_N_SEGMENT_ROUND</a></li>
<li><a href="#L97">_N_TXTENDADDR</a></li>
<li><a href="#L4">__GNU_EXEC_MACROS__</a></li>
</ul>
 <h4>Source code</h4>

  <code><ol><li><span class="PreProc">#ifndef <a href="#L2" title="include/a.out.h:2">_A_OUT_H</a><br/></li>
<li><a id="L2">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">_A_OUT_H</span><br/></li>
<li></span><br/></li>
<li><a id="L4">&#x200c;</a><span class="PreProc">#define <span class="linkable">__GNU_EXEC_MACROS__</span><br/></li>
<li></span><br/></li>
<li><a id="L6">&#x200c;</a><span class="Type">struct</span> <span class="linkable">exec</span> {<br/></li>
<li>&nbsp; <span class="Type">unsigned</span> <span class="Type">long</span> a_magic;&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* Use macros <a href="#L18" title="include/a.out.h:18">N_MAGIC</a>, etc for access */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> a_text;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* length of text, in bytes */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> a_data;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* length of data, in bytes */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> a_bss;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* length of uninitialized data area for <a href="linux/fs.h.html#L116" title="include/linux/fs.h:116">file</a>, in bytes */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> a_syms;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* length of symbol table data in <a href="linux/fs.h.html#L116" title="include/linux/fs.h:116">file</a>, in bytes */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> a_entry;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* start address */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> a_trsize;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* length of relocation info for text, in bytes */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> a_drsize;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* length of relocation info for data, in bytes */<br/></li>
<li></span>};<br/></li>
<li><br/></li>
<li><span class="PreProc">#ifndef <a href="#L18" title="include/a.out.h:18">N_MAGIC</a><br/></li>
<li><a id="L18">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_MAGIC</span>(<a href="#L6" title="include/a.out.h:6">exec</a>) ((<a href="#L6" title="include/a.out.h:6">exec</a>).a_magic)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L23" title="include/a.out.h:23">OMAGIC</a><br/></li>
<li></span><span class="Comment">/* Code indicating object <a href="linux/fs.h.html#L116" title="include/linux/fs.h:116">file</a> or impure executable.&nbsp; */<br/></li>
<li><a id="L23">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">OMAGIC</span> 0</span><span class="Constant">407<br/></li>
<li></span><span class="Comment">/* Code indicating pure executable.&nbsp; */<br/></li>
<li><a id="L25">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">NMAGIC</span> 0</span><span class="Constant">410<br/></li>
<li></span><span class="Comment">/* Code indicating demand-paged executable.&nbsp; */<br/></li>
<li><a id="L27">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ZMAGIC</span> 0</span><span class="Constant">413<br/></li>
<li></span><span class="PreProc">#endif</span> <span class="Comment">/* not <a href="#L23" title="include/a.out.h:23">OMAGIC</a> */<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L31" title="include/a.out.h:31">N_BADMAG</a><br/></li>
<li><a id="L31">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_BADMAG</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc"> (<a href="#L18" title="include/a.out.h:18">N_MAGIC</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) != <a href="#L23" title="include/a.out.h:23">OMAGIC</a> &amp;&amp; <a href="#L18" title="include/a.out.h:18">N_MAGIC</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) != <a href="#L25" title="include/a.out.h:25">NMAGIC</a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; &amp;&amp; <a href="#L18" title="include/a.out.h:18">N_MAGIC</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) != <a href="#L27" title="include/a.out.h:27">ZMAGIC</a>)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><a id="L36">&#x200c;</a><span class="PreProc">#define <span class="linkable">_N_BADMAG</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc"> (<a href="#L18" title="include/a.out.h:18">N_MAGIC</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) != <a href="#L23" title="include/a.out.h:23">OMAGIC</a> &amp;&amp; <a href="#L18" title="include/a.out.h:18">N_MAGIC</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) != <a href="#L25" title="include/a.out.h:25">NMAGIC</a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; &amp;&amp; <a href="#L18" title="include/a.out.h:18">N_MAGIC</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) != <a href="#L27" title="include/a.out.h:27">ZMAGIC</a>)<br/></li>
<li></span><br/></li>
<li><a id="L40">&#x200c;</a><span class="PreProc">#define <span class="linkable">_N_HDROFF</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) (<a href="#L76" title="include/a.out.h:76">SEGMENT_SIZE</a> - </span><span class="Statement">sizeof</span><span class="PreProc"> (</span><span class="Type">struct</span><span class="PreProc"> <a href="#L6" title="include/a.out.h:6">exec</a>))<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L43" title="include/a.out.h:43">N_TXTOFF</a><br/></li>
<li><a id="L43">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_TXTOFF</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) \<br/></li>
<li></span><span class="PreProc"> (<a href="#L18" title="include/a.out.h:18">N_MAGIC</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) == <a href="#L27" title="include/a.out.h:27">ZMAGIC</a> ? <a href="#L40" title="include/a.out.h:40">_N_HDROFF</a>((<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>)) + </span><span class="Statement">sizeof</span><span class="PreProc"> (</span><span class="Type">struct</span><span class="PreProc"> <a href="#L6" title="include/a.out.h:6">exec</a>) : </span><span class="Statement">sizeof</span><span class="PreProc"> (</span><span class="Type">struct</span><span class="PreProc"> <a href="#L6" title="include/a.out.h:6">exec</a>))<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L48" title="include/a.out.h:48">N_DATOFF</a><br/></li>
<li><a id="L48">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_DATOFF</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) (<a href="#L43" title="include/a.out.h:43">N_TXTOFF</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) + (<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>).a_text)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L52" title="include/a.out.h:52">N_TRELOFF</a><br/></li>
<li><a id="L52">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_TRELOFF</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) (<a href="#L48" title="include/a.out.h:48">N_DATOFF</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) + (<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>).a_data)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L56" title="include/a.out.h:56">N_DRELOFF</a><br/></li>
<li><a id="L56">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_DRELOFF</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) (<a href="#L52" title="include/a.out.h:52">N_TRELOFF</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) + (<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>).a_trsize)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L60" title="include/a.out.h:60">N_SYMOFF</a><br/></li>
<li><a id="L60">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_SYMOFF</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) (<a href="#L56" title="include/a.out.h:56">N_DRELOFF</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) + (<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>).a_drsize)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L64" title="include/a.out.h:64">N_STROFF</a><br/></li>
<li><a id="L64">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_STROFF</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) (<a href="#L60" title="include/a.out.h:60">N_SYMOFF</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) + (<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>).a_syms)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Address of text segment in memory after it is loaded.&nbsp; */<br/></li>
<li></span><span class="PreProc">#ifndef <a href="#L69" title="include/a.out.h:69">N_TXTADDR</a><br/></li>
<li><a id="L69">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_TXTADDR</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) </span><span class="Constant">0<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Address of data segment in memory after it is loaded.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; Note that it is up to you to define <a href="#L76" title="include/a.out.h:76">SEGMENT_SIZE</a><br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; on machines not listed here.&nbsp; */<br/></li>
<li></span><span class="PreProc">#if defined(vax) || defined(hp300) || defined(pyr)<br/></li>
<li><a id="L76">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">SEGMENT_SIZE</span> <a href="linux/mm.h.html#L4" title="include/linux/mm.h:4">PAGE_SIZE</a><br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><span class="PreProc">#ifdef&nbsp; &nbsp; &nbsp; &nbsp; hp300<br/></li>
<li><a id="L79">&#x200c;</a></span><span class="PreProc">#define&nbsp; &nbsp; &nbsp; &nbsp; <span class="linkable">PAGE_SIZE</span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">4096<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><span class="PreProc">#ifdef&nbsp; &nbsp; &nbsp; &nbsp; sony<br/></li>
<li><a id="L82">&#x200c;</a></span><span class="PreProc">#define&nbsp; &nbsp; &nbsp; &nbsp; <span class="linkable">SEGMENT_SIZE</span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">0x2000<br/></li>
<li></span><span class="PreProc">#endif</span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* Sony.&nbsp; */<br/></li>
<li></span><span class="PreProc">#ifdef is68k<br/></li>
<li><a id="L85">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">SEGMENT_SIZE</span> </span><span class="Constant">0x20000<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><span class="PreProc">#if defined(m68k) &amp;&amp; defined(PORTAR)<br/></li>
<li><a id="L88">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">PAGE_SIZE</span> </span><span class="Constant">0x400<br/></li>
<li><a id="L89">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">SEGMENT_SIZE</span> <a href="linux/mm.h.html#L4" title="include/linux/mm.h:4">PAGE_SIZE</a><br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><a id="L92">&#x200c;</a><span class="PreProc">#define <span class="linkable">PAGE_SIZE</span> </span><span class="Constant">4096<br/></li>
<li><a id="L93">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">SEGMENT_SIZE</span> </span><span class="Constant">1024<br/></li>
<li></span><br/></li>
<li><a id="L95">&#x200c;</a><span class="PreProc">#define <span class="linkable">_N_SEGMENT_ROUND</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) (((<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) + <a href="#L76" title="include/a.out.h:76">SEGMENT_SIZE</a> - </span><span class="Constant">1</span><span class="PreProc">) &amp; ~(<a href="#L76" title="include/a.out.h:76">SEGMENT_SIZE</a> - </span><span class="Constant">1</span><span class="PreProc">))<br/></li>
<li></span><br/></li>
<li><a id="L97">&#x200c;</a><span class="PreProc">#define <span class="linkable">_N_TXTENDADDR</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) (<a href="#L69" title="include/a.out.h:69">N_TXTADDR</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>)+(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>).a_text)<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L100" title="include/a.out.h:100">N_DATADDR</a><br/></li>
<li><a id="L100">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_DATADDR</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; (<a href="#L18" title="include/a.out.h:18">N_MAGIC</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>)==<a href="#L23" title="include/a.out.h:23">OMAGIC</a>? (<a href="#L97" title="include/a.out.h:97">_N_TXTENDADDR</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>)) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp;&nbsp; : (<a href="#L95" title="include/a.out.h:95">_N_SEGMENT_ROUND</a> (<a href="#L97" title="include/a.out.h:97">_N_TXTENDADDR</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>))))<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Address of bss segment in memory after it is loaded.&nbsp; */<br/></li>
<li></span><span class="PreProc">#ifndef <a href="#L107" title="include/a.out.h:107">N_BSSADDR</a><br/></li>
<li><a id="L107">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_BSSADDR</span>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) (<a href="#L100" title="include/a.out.h:100">N_DATADDR</a>(<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>) + (<a href="../kernel/chr_drv/console.c.html#L72" title="kernel/chr_drv/console.c:72">x</a>).a_data)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef N_NLIST_DECLARED<br/></li>
<li><a id="L111">&#x200c;</a></span><span class="Type">struct</span> <span class="linkable">nlist</span> {<br/></li>
<li>&nbsp; <span class="Type">union</span> {<br/></li>
<li>&nbsp; &nbsp; <span class="Type">char</span> *n_name;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">struct</span> <a href="#L111" title="include/a.out.h:111">nlist</a> *n_next;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">long</span> n_strx;<br/></li>
<li>&nbsp; } n_un;<br/></li>
<li>&nbsp; <span class="Type">unsigned</span> <span class="Type">char</span> n_type;<br/></li>
<li>&nbsp; <span class="Type">char</span> n_other;<br/></li>
<li>&nbsp; <span class="Type">short</span> n_desc;<br/></li>
<li>&nbsp; <span class="Type">unsigned</span> <span class="Type">long</span> n_value;<br/></li>
<li>};<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L125" title="include/a.out.h:125">N_UNDF</a><br/></li>
<li><a id="L125">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_UNDF</span> </span><span class="Constant">0<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><span class="PreProc">#ifndef <a href="#L128" title="include/a.out.h:128">N_ABS</a><br/></li>
<li><a id="L128">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_ABS</span> </span><span class="Constant">2<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><span class="PreProc">#ifndef <a href="#L131" title="include/a.out.h:131">N_TEXT</a><br/></li>
<li><a id="L131">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_TEXT</span> </span><span class="Constant">4<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><span class="PreProc">#ifndef <a href="#L134" title="include/a.out.h:134">N_DATA</a><br/></li>
<li><a id="L134">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_DATA</span> </span><span class="Constant">6<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><span class="PreProc">#ifndef <a href="#L137" title="include/a.out.h:137">N_BSS</a><br/></li>
<li><a id="L137">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_BSS</span> </span><span class="Constant">8<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><span class="PreProc">#ifndef <a href="#L140" title="include/a.out.h:140">N_COMM</a><br/></li>
<li><a id="L140">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_COMM</span> </span><span class="Constant">18<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><span class="PreProc">#ifndef <a href="#L143" title="include/a.out.h:143">N_FN</a><br/></li>
<li><a id="L143">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_FN</span> </span><span class="Constant">15<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L147" title="include/a.out.h:147">N_EXT</a><br/></li>
<li><a id="L147">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_EXT</span> </span><span class="Constant">1<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><span class="PreProc">#ifndef <a href="#L150" title="include/a.out.h:150">N_TYPE</a><br/></li>
<li><a id="L150">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_TYPE</span> 0</span><span class="Constant">36<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><span class="PreProc">#ifndef <a href="#L153" title="include/a.out.h:153">N_STAB</a><br/></li>
<li><a id="L153">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_STAB</span> 0</span><span class="Constant">340<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* The following type indicates the definition of a symbol as being<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; an indirect reference to another symbol.&nbsp; The other symbol<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; appears as an undefined reference, immediately following this symbol.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; Indirection is asymmetrical.&nbsp; The other symbol's value will be used<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; to satisfy requests for the indirect symbol, but not vice versa.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; If the other symbol does not have a definition, libraries will<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; be searched to find a definition.&nbsp; */<br/></li>
<li><a id="L164">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_INDR</span> </span><span class="Constant">0xa<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* The following symbols refer to set elements.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; All the N_SET[ATDB] symbols with the same name form one set.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; Space is allocated for the set in the text section, and each set<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; element's value is stored into one word of the space.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; The first word of the space is the length of the set (<a href="../kernel/vsprintf.c.html#L40" title="kernel/vsprintf.c:40">number</a> of elements).<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; The address of the set is made into an <a href="#L184" title="include/a.out.h:184">N_SETV</a> symbol<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; whose name is the same as the name of the set.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; This symbol acts like a <a href="#L134" title="include/a.out.h:134">N_DATA</a> global symbol<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; in that it can satisfy undefined external references.&nbsp; */<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* These appear as input to LD, in a .o <a href="linux/fs.h.html#L116" title="include/linux/fs.h:116">file</a>.&nbsp; */<br/></li>
<li><a id="L178">&#x200c;</a></span><span class="PreProc">#define&nbsp; &nbsp; &nbsp; &nbsp; <span class="linkable">N_SETA</span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">0x14</span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* Absolute set element symbol */<br/></li>
<li><a id="L179">&#x200c;</a></span><span class="PreProc">#define&nbsp; &nbsp; &nbsp; &nbsp; <span class="linkable">N_SETT</span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">0x16</span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* Text set element symbol */<br/></li>
<li><a id="L180">&#x200c;</a></span><span class="PreProc">#define&nbsp; &nbsp; &nbsp; &nbsp; <span class="linkable">N_SETD</span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">0x18</span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* Data set element symbol */<br/></li>
<li><a id="L181">&#x200c;</a></span><span class="PreProc">#define&nbsp; &nbsp; &nbsp; &nbsp; <span class="linkable">N_SETB</span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">0x1A</span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* Bss set element symbol */<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* This is output from LD.&nbsp; */<br/></li>
<li><a id="L184">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">N_SETV</span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">0x1C</span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* Pointer to set vector in data area.&nbsp; */<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef N_RELOCATION_INFO_DECLARED<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* This structure describes a single relocation to be performed.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; The text-relocation section of the <a href="linux/fs.h.html#L116" title="include/linux/fs.h:116">file</a> is a vector of these structures,<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; all of which apply to the text section.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; Likewise, the data-relocation section applies to the data section.&nbsp; */<br/></li>
<li></span><br/></li>
<li><a id="L193">&#x200c;</a><span class="Type">struct</span> <span class="linkable">relocation_info</span><br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Comment">/* Address (within segment) to be relocated.&nbsp; */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> r_address;<br/></li>
<li>&nbsp; <span class="Comment">/* The meaning of r_symbolnum depends on r_extern.&nbsp; */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> <span class="Type">int</span> r_symbolnum:<span class="Constant">24</span>;<br/></li>
<li>&nbsp; <span class="Comment">/* Nonzero means value is a pc-relative offset<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; and it should be relocated for changes in its own address<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; as well as for changes in the symbol or section specified.&nbsp; */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> <span class="Type">int</span> r_pcrel:<span class="Constant">1</span>;<br/></li>
<li>&nbsp; <span class="Comment">/* Length (as exponent of 2) of the field to be relocated.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; Thus, a value of 2 indicates 1&lt;&lt;2 bytes.&nbsp; */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> <span class="Type">int</span> r_length:<span class="Constant">2</span>;<br/></li>
<li>&nbsp; <span class="Comment">/* 1 =&gt; relocate with value of symbol.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; r_symbolnum is the index of the symbol<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in <a href="linux/fs.h.html#L116" title="include/linux/fs.h:116">file</a>'s the symbol table.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; 0 =&gt; relocate with the address of a segment.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; r_symbolnum is <a href="#L131" title="include/a.out.h:131">N_TEXT</a>, <a href="#L134" title="include/a.out.h:134">N_DATA</a>, <a href="#L137" title="include/a.out.h:137">N_BSS</a> or <a href="#L128" title="include/a.out.h:128">N_ABS</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (the <a href="#L147" title="include/a.out.h:147">N_EXT</a> bit may be set also, but signifies nothing).&nbsp; */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> <span class="Type">int</span> r_extern:<span class="Constant">1</span>;<br/></li>
<li>&nbsp; <span class="Comment">/* Four bits that aren't used, but when writing an object <a href="linux/fs.h.html#L116" title="include/linux/fs.h:116">file</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; it is desirable to clear them.&nbsp; */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> <span class="Type">int</span> r_pad:<span class="Constant">4</span>;<br/></li>
<li>};<br/></li>
<li><span class="PreProc">#endif</span> <span class="Comment">/* no N_RELOCATION_INFO_DECLARED.&nbsp; */<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="PreProc">#endif</span> <span class="Comment">/* __A_OUT_GNU_H__ */<br/></li>
</ol></span></code>
 </body>
</html>
