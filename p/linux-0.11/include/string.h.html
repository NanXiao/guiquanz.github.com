<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>include/string.h - linux-0.11-ebook</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

code {
    font-family: consolas, monospace;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
  <h3>include/string.h - linux-0.11-ebook</h3>
   <a href="../index.html"> Table of Contents </a>
 <h4>Data types defined</h4>
 <ul>
<li><a href="#L10">size_t</a></li>
</ul>
 <h4>Functions defined</h4>
 <ul>
<li><a href="#L379">memchr</a></li>
<li><a href="#L363">memcmp</a></li>
<li><a href="#L336">memcpy</a></li>
<li><a href="#L346">memmove</a></li>
<li><a href="#L395">memset</a></li>
<li><a href="#L54">strcat</a></li>
<li><a href="#L128">strchr</a></li>
<li><a href="#L88">strcmp</a></li>
<li><a href="#L27">strcpy</a></li>
<li><a href="#L185">strcspn</a></li>
<li><a href="#L263">strlen</a></li>
<li><a href="#L68">strncat</a></li>
<li><a href="#L107">strncmp</a></li>
<li><a href="#L38">strncpy</a></li>
<li><a href="#L209">strpbrk</a></li>
<li><a href="#L145">strrchr</a></li>
<li><a href="#L161">strspn</a></li>
<li><a href="#L236">strstr</a></li>
<li><a href="#L277">strtok</a></li>
</ul>
 <h4>Macros defined</h4>
 <ul>
<li><a href="#L5">NULL</a></li>
<li><a href="#L9">_SIZE_T</a></li>
<li><a href="#L2">_STRING_H_</a></li>
</ul>
 <h4>Source code</h4>

  <code><ol><li><span class="PreProc">#ifndef <a href="#L2" title="include/string.h:2">_STRING_H_</a><br/></li>
<li><a id="L2">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">_STRING_H_</span><br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="linux/sched.h.html#L26" title="include/linux/sched.h:26">NULL</a><br/></li>
<li><a id="L5">&#x200c;</a></span><span class="PreProc">#define </span><span class="Constant"><span class="linkable">NULL</span></span><span class="PreProc"> ((</span><span class="Type">void</span><span class="PreProc"> *) </span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="sys/types.h.html#L5" title="include/sys/types.h:5">_SIZE_T</a><br/></li>
<li><a id="L9">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">_SIZE_T</span><br/></li>
<li><a id="L10">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">unsigned</span> <span class="Type">int</span> <span class="Type"><span class="linkable">size_t</span></span>;<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type">char</span> * strerror(<span class="Type">int</span> <a href="../lib/errno.c.html#L7" title="lib/errno.c:7">errno</a>);<br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment"> * This string-include defines all string functions as <a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a><br/></li>
<li></span><span class="Comment"> * functions. Use gcc. It also assumes ds=es=data space, this should be<br/></li>
<li></span><span class="Comment"> * normal. Most of the string-functions are rather heavily hand-optimized,<br/></li>
<li></span><span class="Comment"> * see especially <a href="#L277" title="include/string.h:277">strtok</a>,<a href="#L236" title="include/string.h:236">strstr</a>,<a href="linux/sched.h.html#L159" title="include/linux/sched.h:159">str</a>[c]spn. They should work, but are not<br/></li>
<li></span><span class="Comment"> * very easy to understand. Everything is done entirely within the register<br/></li>
<li></span><span class="Comment"> * set, making the functions fast and clean. String instructions have been<br/></li>
<li></span><span class="Comment"> * used through-out, making for &quot;slightly&quot; unclear code :-)<br/></li>
<li></span><span class="Comment"> *<br/></li>
<li></span><span class="Comment"> *&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (C) 1991 Linus Torvalds<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><br/></li>
<li><a id="L27">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">char</span> * <span class="linkable">strcpy</span>(<span class="Type">char</span> * dest,<span class="Type">const</span> <span class="Type">char</span> *src)<br/></li>
<li>{<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">lodsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;stosb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;testb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 1b&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; ::<span class="Constant">&quot;S&quot;</span> (src),<span class="Constant">&quot;D&quot;</span> (dest):) ;<br/></li>
<li><span class="Statement">return</span> dest;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L38">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">char</span> * <span class="linkable">strncpy</span>(<span class="Type">char</span> * dest,<span class="Type">const</span> <span class="Type">char</span> *src,<span class="Type">int</span> <a href="../fs/exec.c.html#L75" title="fs/exec.c:75">count</a>)<br/></li>
<li>{<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">decl %2</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;js 2f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;lodsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;stosb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;testb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 1b</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;rep</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;stosb</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;2:&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; ::<span class="Constant">&quot;S&quot;</span> (src),<span class="Constant">&quot;D&quot;</span> (dest),<span class="Constant">&quot;c&quot;</span> (<a href="../fs/exec.c.html#L75" title="fs/exec.c:75">count</a>):) ;<br/></li>
<li><span class="Statement">return</span> dest;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L54">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">char</span> * <span class="linkable">strcat</span>(<span class="Type">char</span> * dest,<span class="Type">const</span> <span class="Type">char</span> * src)<br/></li>
<li>{<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;decl %1</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">lodsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;stosb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;testb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 1b&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; ::<span class="Constant">&quot;S&quot;</span> (src),<span class="Constant">&quot;D&quot;</span> (dest),<span class="Constant">&quot;a&quot;</span> (<span class="Constant">0</span>),<span class="Constant">&quot;c&quot;</span> (<span class="Constant">0xffffffff</span>):) ;<br/></li>
<li><span class="Statement">return</span> dest;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L68">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">char</span> * <span class="linkable">strncat</span>(<span class="Type">char</span> * dest,<span class="Type">const</span> <span class="Type">char</span> * src,<span class="Type">int</span> <a href="../fs/exec.c.html#L75" title="fs/exec.c:75">count</a>)<br/></li>
<li>{<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;decl %1</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %4,%3</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">decl %3</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;js 2f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;lodsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;stosb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;testb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 1b</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;2:</span><span class="Special">\t</span><span class="Constant">xorl %2,%2</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;stosb&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; ::<span class="Constant">&quot;S&quot;</span> (src),<span class="Constant">&quot;D&quot;</span> (dest),<span class="Constant">&quot;a&quot;</span> (<span class="Constant">0</span>),<span class="Constant">&quot;c&quot;</span> (<span class="Constant">0xffffffff</span>),<span class="Constant">&quot;g&quot;</span> (<a href="../fs/exec.c.html#L75" title="fs/exec.c:75">count</a>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; :) ;<br/></li>
<li><span class="Statement">return</span> dest;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L88">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">int</span> <span class="linkable">strcmp</span>(<span class="Type">const</span> <span class="Type">char</span> * cs,<span class="Type">const</span> <span class="Type">char</span> * ct)<br/></li>
<li>{<br/></li>
<li><span class="Type">register</span> <span class="Type">int</span> __res __asm__(<span class="Constant">&quot;ax&quot;</span>);<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">lodsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 2f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;testb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 1b</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;xorl </span><span class="Special">%%</span><span class="Constant">eax,</span><span class="Special">%%</span><span class="Constant">eax</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jmp 3f</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;2:</span><span class="Special">\t</span><span class="Constant">movl $1,</span><span class="Special">%%</span><span class="Constant">eax</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jl 3f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;negl </span><span class="Special">%%</span><span class="Constant">eax</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;3:&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; :<span class="Constant">&quot;=a&quot;</span> (__res):<span class="Constant">&quot;D&quot;</span> (cs),<span class="Constant">&quot;S&quot;</span> (ct):) ;<br/></li>
<li><span class="Statement">return</span> __res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L107">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">int</span> <span class="linkable">strncmp</span>(<span class="Type">const</span> <span class="Type">char</span> * cs,<span class="Type">const</span> <span class="Type">char</span> * ct,<span class="Type">int</span> <a href="../fs/exec.c.html#L75" title="fs/exec.c:75">count</a>)<br/></li>
<li>{<br/></li>
<li><span class="Type">register</span> <span class="Type">int</span> __res __asm__(<span class="Constant">&quot;ax&quot;</span>);<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">decl %3</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;js 2f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;lodsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 3f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;testb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 1b</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;2:</span><span class="Special">\t</span><span class="Constant">xorl </span><span class="Special">%%</span><span class="Constant">eax,</span><span class="Special">%%</span><span class="Constant">eax</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jmp 4f</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;3:</span><span class="Special">\t</span><span class="Constant">movl $1,</span><span class="Special">%%</span><span class="Constant">eax</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jl 4f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;negl </span><span class="Special">%%</span><span class="Constant">eax</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;4:&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; :<span class="Constant">&quot;=a&quot;</span> (__res):<span class="Constant">&quot;D&quot;</span> (cs),<span class="Constant">&quot;S&quot;</span> (ct),<span class="Constant">&quot;c&quot;</span> (<a href="../fs/exec.c.html#L75" title="fs/exec.c:75">count</a>):) ;<br/></li>
<li><span class="Statement">return</span> __res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L128">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">char</span> * <span class="linkable">strchr</span>(<span class="Type">const</span> <span class="Type">char</span> * s,<span class="Type">char</span> c)<br/></li>
<li>{<br/></li>
<li><span class="Type">register</span> <span class="Type">char</span> * __res __asm__(<span class="Constant">&quot;ax&quot;</span>);<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">ah</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">lodsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;cmpb </span><span class="Special">%%</span><span class="Constant">ah,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 2f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;testb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 1b</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl $1,%1</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;2:</span><span class="Special">\t</span><span class="Constant">movl %1,%0</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;decl %0&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; :<span class="Constant">&quot;=a&quot;</span> (__res):<span class="Constant">&quot;S&quot;</span> (s),<span class="Constant">&quot;0&quot;</span> (c):) ;<br/></li>
<li><span class="Statement">return</span> __res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L145">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">char</span> * <span class="linkable">strrchr</span>(<span class="Type">const</span> <span class="Type">char</span> * s,<span class="Type">char</span> c)<br/></li>
<li>{<br/></li>
<li><span class="Type">register</span> <span class="Type">char</span> * __res __asm__(<span class="Constant">&quot;dx&quot;</span>);<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">ah</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">lodsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;cmpb </span><span class="Special">%%</span><span class="Constant">ah,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 2f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl </span><span class="Special">%%</span><span class="Constant">esi,%0</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;decl %0</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;2:</span><span class="Special">\t</span><span class="Constant">testb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 1b&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; :<span class="Constant">&quot;=d&quot;</span> (__res):<span class="Constant">&quot;0&quot;</span> (<span class="Constant">0</span>),<span class="Constant">&quot;S&quot;</span> (s),<span class="Constant">&quot;a&quot;</span> (c):) ;<br/></li>
<li><span class="Statement">return</span> __res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L161">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">int</span> <span class="linkable">strspn</span>(<span class="Type">const</span> <span class="Type">char</span> * cs, <span class="Type">const</span> <span class="Type">char</span> * ct)<br/></li>
<li>{<br/></li>
<li><span class="Type">register</span> <span class="Type">char</span> * __res __asm__(<span class="Constant">&quot;si&quot;</span>);<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %4,</span><span class="Special">%%</span><span class="Constant">edi</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;notl </span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;decl </span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl </span><span class="Special">%%</span><span class="Constant">ecx,</span><span class="Special">%%</span><span class="Constant">edx</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">lodsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;testb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 2f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %4,</span><span class="Special">%%</span><span class="Constant">edi</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl </span><span class="Special">%%</span><span class="Constant">edx,</span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 1b</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;2:</span><span class="Special">\t</span><span class="Constant">decl %0&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; :<span class="Constant">&quot;=S&quot;</span> (__res):<span class="Constant">&quot;a&quot;</span> (<span class="Constant">0</span>),<span class="Constant">&quot;c&quot;</span> (<span class="Constant">0xffffffff</span>),<span class="Constant">&quot;0&quot;</span> (cs),<span class="Constant">&quot;g&quot;</span> (ct)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; :) ;<br/></li>
<li><span class="Statement">return</span> __res-cs;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L185">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">int</span> <span class="linkable">strcspn</span>(<span class="Type">const</span> <span class="Type">char</span> * cs, <span class="Type">const</span> <span class="Type">char</span> * ct)<br/></li>
<li>{<br/></li>
<li><span class="Type">register</span> <span class="Type">char</span> * __res __asm__(<span class="Constant">&quot;si&quot;</span>);<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %4,</span><span class="Special">%%</span><span class="Constant">edi</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;notl </span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;decl </span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl </span><span class="Special">%%</span><span class="Constant">ecx,</span><span class="Special">%%</span><span class="Constant">edx</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">lodsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;testb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 2f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %4,</span><span class="Special">%%</span><span class="Constant">edi</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl </span><span class="Special">%%</span><span class="Constant">edx,</span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 1b</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;2:</span><span class="Special">\t</span><span class="Constant">decl %0&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; :<span class="Constant">&quot;=S&quot;</span> (__res):<span class="Constant">&quot;a&quot;</span> (<span class="Constant">0</span>),<span class="Constant">&quot;c&quot;</span> (<span class="Constant">0xffffffff</span>),<span class="Constant">&quot;0&quot;</span> (cs),<span class="Constant">&quot;g&quot;</span> (ct)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; :) ;<br/></li>
<li><span class="Statement">return</span> __res-cs;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L209">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">char</span> * <span class="linkable">strpbrk</span>(<span class="Type">const</span> <span class="Type">char</span> * cs,<span class="Type">const</span> <span class="Type">char</span> * ct)<br/></li>
<li>{<br/></li>
<li><span class="Type">register</span> <span class="Type">char</span> * __res __asm__(<span class="Constant">&quot;si&quot;</span>);<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %4,</span><span class="Special">%%</span><span class="Constant">edi</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;notl </span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;decl </span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl </span><span class="Special">%%</span><span class="Constant">ecx,</span><span class="Special">%%</span><span class="Constant">edx</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">lodsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;testb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 2f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %4,</span><span class="Special">%%</span><span class="Constant">edi</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl </span><span class="Special">%%</span><span class="Constant">edx,</span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 1b</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;decl %0</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jmp 3f</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;2:</span><span class="Special">\t</span><span class="Constant">xorl %0,%0</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;3:&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; :<span class="Constant">&quot;=S&quot;</span> (__res):<span class="Constant">&quot;a&quot;</span> (<span class="Constant">0</span>),<span class="Constant">&quot;c&quot;</span> (<span class="Constant">0xffffffff</span>),<span class="Constant">&quot;0&quot;</span> (cs),<span class="Constant">&quot;g&quot;</span> (ct)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; :) ;<br/></li>
<li><span class="Statement">return</span> __res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L236">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">char</span> * <span class="linkable">strstr</span>(<span class="Type">const</span> <span class="Type">char</span> * cs,<span class="Type">const</span> <span class="Type">char</span> * ct)<br/></li>
<li>{<br/></li>
<li><span class="Type">register</span> <span class="Type">char</span> * __res __asm__(<span class="Constant">&quot;ax&quot;</span>);<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;</span> \<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %4,</span><span class="Special">%%</span><span class="Constant">edi</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;notl </span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;decl </span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;</span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* NOTE! This also sets Z if searchstring='' */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl </span><span class="Special">%%</span><span class="Constant">ecx,</span><span class="Special">%%</span><span class="Constant">edx</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">movl %4,</span><span class="Special">%%</span><span class="Constant">edi</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl </span><span class="Special">%%</span><span class="Constant">esi,</span><span class="Special">%%</span><span class="Constant">eax</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl </span><span class="Special">%%</span><span class="Constant">edx,</span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repe</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;cmpsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 2f</span><span class="Special">\n\t</span><span class="Constant">&quot;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* also works for empty string, see above */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;xchgl </span><span class="Special">%%</span><span class="Constant">eax,</span><span class="Special">%%</span><span class="Constant">esi</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;incl </span><span class="Special">%%</span><span class="Constant">esi</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;cmpb $0,-1(</span><span class="Special">%%</span><span class="Constant">eax)</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 1b</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;xorl </span><span class="Special">%%</span><span class="Constant">eax,</span><span class="Special">%%</span><span class="Constant">eax</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;2:&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; :<span class="Constant">&quot;=a&quot;</span> (__res):<span class="Constant">&quot;0&quot;</span> (<span class="Constant">0</span>),<span class="Constant">&quot;c&quot;</span> (<span class="Constant">0xffffffff</span>),<span class="Constant">&quot;S&quot;</span> (cs),<span class="Constant">&quot;g&quot;</span> (ct)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; :) ;<br/></li>
<li><span class="Statement">return</span> __res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L263">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">int</span> <span class="linkable">strlen</span>(<span class="Type">const</span> <span class="Type">char</span> * s)<br/></li>
<li>{<br/></li>
<li><span class="Type">register</span> <span class="Type">int</span> __res __asm__(<span class="Constant">&quot;cx&quot;</span>);<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;notl %0</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;decl %0&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; :<span class="Constant">&quot;=c&quot;</span> (__res):<span class="Constant">&quot;D&quot;</span> (s),<span class="Constant">&quot;a&quot;</span> (<span class="Constant">0</span>),<span class="Constant">&quot;0&quot;</span> (<span class="Constant">0xffffffff</span>):) ;<br/></li>
<li><span class="Statement">return</span> __res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type">char</span> * ___strtok;<br/></li>
<li><br/></li>
<li><a id="L277">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">char</span> * <span class="linkable">strtok</span>(<span class="Type">char</span> * s,<span class="Type">const</span> <span class="Type">char</span> * ct)<br/></li>
<li>{<br/></li>
<li><span class="Type">register</span> <span class="Type">char</span> * __res __asm__(<span class="Constant">&quot;si&quot;</span>);<br/></li>
<li>__asm__(<span class="Constant">&quot;testl %1,%1</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 1f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;testl %0,%0</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 8f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %0,%1</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">xorl %0,%0</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl $-1,</span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;xorl </span><span class="Special">%%</span><span class="Constant">eax,</span><span class="Special">%%</span><span class="Constant">eax</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %4,</span><span class="Special">%%</span><span class="Constant">edi</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;notl </span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;decl </span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 7f</span><span class="Special">\n\t</span><span class="Constant">&quot;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* empty delimeter-string */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl </span><span class="Special">%%</span><span class="Constant">ecx,</span><span class="Special">%%</span><span class="Constant">edx</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;2:</span><span class="Special">\t</span><span class="Constant">lodsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;testb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 7f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %4,</span><span class="Special">%%</span><span class="Constant">edi</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl </span><span class="Special">%%</span><span class="Constant">edx,</span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 2b</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;decl %1</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;cmpb $0,(%1)</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 7f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %1,%0</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;3:</span><span class="Special">\t</span><span class="Constant">lodsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;testb </span><span class="Special">%%</span><span class="Constant">al,</span><span class="Special">%%</span><span class="Constant">al</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 5f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %4,</span><span class="Special">%%</span><span class="Constant">edi</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl </span><span class="Special">%%</span><span class="Constant">edx,</span><span class="Special">%%</span><span class="Constant">ecx</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 3b</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;decl %1</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;cmpb $0,(%1)</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 5f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movb $0,(%1)</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;incl %1</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jmp 6f</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;5:</span><span class="Special">\t</span><span class="Constant">xorl %1,%1</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;6:</span><span class="Special">\t</span><span class="Constant">cmpb $0,(%0)</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 7f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;xorl %0,%0</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;7:</span><span class="Special">\t</span><span class="Constant">testl %0,%0</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jne 8f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl %0,%1</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;8:&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; :<span class="Constant">&quot;=b&quot;</span> (__res),<span class="Constant">&quot;=S&quot;</span> (___strtok)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; :<span class="Constant">&quot;0&quot;</span> (___strtok),<span class="Constant">&quot;1&quot;</span> (s),<span class="Constant">&quot;g&quot;</span> (ct)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; :) ;<br/></li>
<li><span class="Statement">return</span> __res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L336">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">void</span> * <span class="linkable">memcpy</span>(<span class="Type">void</span> * dest,<span class="Type">const</span> <span class="Type">void</span> * src, <span class="Type">int</span> n)<br/></li>
<li>{<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;rep</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movsb&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; ::<span class="Constant">&quot;c&quot;</span> (n),<span class="Constant">&quot;S&quot;</span> (src),<span class="Constant">&quot;D&quot;</span> (dest)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; :) ;<br/></li>
<li><span class="Statement">return</span> dest;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L346">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">void</span> * <span class="linkable">memmove</span>(<span class="Type">void</span> * dest,<span class="Type">const</span> <span class="Type">void</span> * src, <span class="Type">int</span> n)<br/></li>
<li>{<br/></li>
<li><span class="Statement">if</span> (dest&lt;src)<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;rep</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movsb&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; ::<span class="Constant">&quot;c&quot;</span> (n),<span class="Constant">&quot;S&quot;</span> (src),<span class="Constant">&quot;D&quot;</span> (dest)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; :) ;<br/></li>
<li><span class="Statement">else<br/></li>
<li></span>__asm__(<span class="Constant">&quot;std</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;rep</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movsb&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; ::<span class="Constant">&quot;c&quot;</span> (n),<span class="Constant">&quot;S&quot;</span> (src+n-<span class="Constant">1</span>),<span class="Constant">&quot;D&quot;</span> (dest+n-<span class="Constant">1</span>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; :) ;<br/></li>
<li><span class="Statement">return</span> dest;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L363">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">int</span> <span class="linkable">memcmp</span>(<span class="Type">const</span> <span class="Type">void</span> * cs,<span class="Type">const</span> <span class="Type">void</span> * ct,<span class="Type">int</span> <a href="../fs/exec.c.html#L75" title="fs/exec.c:75">count</a>)<br/></li>
<li>{<br/></li>
<li><span class="Type">register</span> <span class="Type">int</span> __res __asm__(<span class="Constant">&quot;ax&quot;</span>);<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repe</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;cmpsb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 1f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl $1,</span><span class="Special">%%</span><span class="Constant">eax</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;jl 1f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;negl </span><span class="Special">%%</span><span class="Constant">eax</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; :<span class="Constant">&quot;=a&quot;</span> (__res):<span class="Constant">&quot;0&quot;</span> (<span class="Constant">0</span>),<span class="Constant">&quot;D&quot;</span> (cs),<span class="Constant">&quot;S&quot;</span> (ct),<span class="Constant">&quot;c&quot;</span> (<a href="../fs/exec.c.html#L75" title="fs/exec.c:75">count</a>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; :) ;<br/></li>
<li><span class="Statement">return</span> __res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L379">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">void</span> * <span class="linkable">memchr</span>(<span class="Type">const</span> <span class="Type">void</span> * cs,<span class="Type">char</span> c,<span class="Type">int</span> <a href="../fs/exec.c.html#L75" title="fs/exec.c:75">count</a>)<br/></li>
<li>{<br/></li>
<li><span class="Type">register</span> <span class="Type">void</span> * __res __asm__(<span class="Constant">&quot;di&quot;</span>);<br/></li>
<li><span class="Statement">if</span> (!<a href="../fs/exec.c.html#L75" title="fs/exec.c:75">count</a>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <span class="Constant"><a href="linux/sched.h.html#L26" title="include/linux/sched.h:26">NULL</a></span>;<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;repne</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;scasb</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;je 1f</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;movl $1,%0</span><span class="Special">\n</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;1:</span><span class="Special">\t</span><span class="Constant">decl %0&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; :<span class="Constant">&quot;=D&quot;</span> (__res):<span class="Constant">&quot;a&quot;</span> (c),<span class="Constant">&quot;D&quot;</span> (cs),<span class="Constant">&quot;c&quot;</span> (<a href="../fs/exec.c.html#L75" title="fs/exec.c:75">count</a>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; :) ;<br/></li>
<li><span class="Statement">return</span> __res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L395">&#x200c;</a><span class="Type"><a href="../lib/string.c.html#L11" title="lib/string.c:11">extern</a></span> <span class="Type"><a href="../lib/string.c.html#L12" title="lib/string.c:12">inline</a></span> <span class="Type">void</span> * <span class="linkable">memset</span>(<span class="Type">void</span> * s,<span class="Type">char</span> c,<span class="Type">int</span> <a href="../fs/exec.c.html#L75" title="fs/exec.c:75">count</a>)<br/></li>
<li>{<br/></li>
<li>__asm__(<span class="Constant">&quot;cld</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;rep</span><span class="Special">\n\t</span><span class="Constant">&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;stosb&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; ::<span class="Constant">&quot;a&quot;</span> (c),<span class="Constant">&quot;D&quot;</span> (s),<span class="Constant">&quot;c&quot;</span> (<a href="../fs/exec.c.html#L75" title="fs/exec.c:75">count</a>)<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; :) ;<br/></li>
<li><span class="Statement">return</span> s;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="PreProc">#endif<br/></li>
</ol></span></code>
 </body>
</html>
