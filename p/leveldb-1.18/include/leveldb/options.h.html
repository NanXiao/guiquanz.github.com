<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>include/leveldb/options.h - leveldb-1.18</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

code {
    font-family: consolas, monospace;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
  <h3>include/leveldb/options.h - leveldb-1.18</h3>
   <a href="../index.html"> Table of Contents </a>
 <h4>Data types defined</h4>
 <ul>
<li><a href="#L23">CompressionType</a></li>
<li><a href="#L31">Options</a></li>
<li><a href="#L143">ReadOptions</a></li>
<li><a href="#L169">WriteOptions</a></li>
</ul>
 <h4>Functions defined</h4>
 <ul>
<li><a href="#L161">ReadOptions</a></li>
<li><a href="#L188">WriteOptions</a></li>
</ul>
 <h4>Macros defined</h4>
 <ul>
<li><a href="#L6">STORAGE_LEVELDB_INCLUDE_OPTIONS_H_</a></li>
</ul>
 <h4>Source code</h4>

  <code><ol><li><span class="Comment">// Copyright (c) 2011 The LevelDB Authors. All rights reserved.<br/></li>
<li></span><span class="Comment">// Use of this source <a href="status.h.html#L84" title="include/leveldb/status.h:84">code</a> is governed by a BSD-style license that can be<br/></li>
<li></span><span class="Comment">// found in the LICENSE file. See the AUTHORS file for names of contributors.<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L6" title="include/leveldb/options.h:6">STORAGE_LEVELDB_INCLUDE_OPTIONS_H_</a><br/></li>
<li><a id="L6">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">STORAGE_LEVELDB_INCLUDE_OPTIONS_H_</span><br/></li>
<li></span><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&lt;stddef.h&gt;<br/></li>
<li></span><br/></li>
<li><span class="Type">namespace</span> leveldb {<br/></li>
<li><br/></li>
<li><span class="Type">class</span> <a href="cache.h.html#L34" title="include/leveldb/cache.h:34">Cache</a>;<br/></li>
<li><span class="Type">class</span> <a href="../../db/skiplist_test.cc.html#L17" title="db/skiplist_test.cc:17">Comparator</a>;<br/></li>
<li><span class="Type">class</span> <a href="env.h.html#L33" title="include/leveldb/env.h:33">Env</a>;<br/></li>
<li><span class="Type">class</span> FilterPolicy;<br/></li>
<li><span class="Type">class</span> <a href="env.h.html#L231" title="include/leveldb/env.h:231">Logger</a>;<br/></li>
<li><span class="Type">class</span> Snapshot;<br/></li>
<li><br/></li>
<li><span class="Comment">// <a href="db.h.html#L55" title="include/leveldb/db.h:55">DB</a> <a href="../../table/table_test.cc.html#L94" title="table/table_test.cc:94">contents</a> are stored in a set of blocks, each of which holds a<br/></li>
<li></span><span class="Comment">// sequence of <a href="../../table/two_level_iterator.cc.html#L37" title="table/two_level_iterator.cc:37">key</a>,<a href="../../table/two_level_iterator.cc.html#L41" title="table/two_level_iterator.cc:41">value</a> pairs.&nbsp; Each block may be compressed before<br/></li>
<li></span><span class="Comment">// being stored in a file.&nbsp; The following enum describes which<br/></li>
<li></span><span class="Comment">// compression method (if any) is used to compress a block.<br/></li>
<li><a id="L23">&#x200c;</a></span><span class="Type">enum</span> <span class="linkable">CompressionType</span> {<br/></li>
<li>&nbsp; <span class="Comment">// NOTE: do not change the values of existing entries, as these are<br/></li>
<li></span>&nbsp; <span class="Comment">// part of the persistent format on disk.<br/></li>
<li></span>&nbsp; kNoCompression&nbsp; &nbsp;&nbsp; = <span class="Constant">0x0</span>,<br/></li>
<li>&nbsp; kSnappyCompression = <span class="Constant">0x1<br/></li>
<li></span>};<br/></li>
<li><br/></li>
<li><span class="Comment">// <a href="#L31" title="include/leveldb/options.h:31">Options</a> to control the behavior of a database (passed to <a href="db.h.html#L55" title="include/leveldb/db.h:55">DB</a>::<a href="../../table/table.cc.html#L38" title="table/table.cc:38">Open</a>)<br/></li>
<li><a id="L31">&#x200c;</a></span><span class="Type">struct</span> <span class="linkable">Options</span> {<br/></li>
<li>&nbsp; <span class="Comment">// -------------------<br/></li>
<li></span>&nbsp; <span class="Comment">// Parameters that affect behavior<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Comment">// <a href="../../db/skiplist_test.cc.html#L17" title="db/skiplist_test.cc:17">Comparator</a> used to define the order of keys in the table.<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: a comparator that uses lexicographic byte-wise ordering<br/></li>
<li></span>&nbsp; <span class="Comment">//<br/></li>
<li></span>&nbsp; <span class="Comment">// REQUIRES: The client must ensure that the comparator supplied<br/></li>
<li></span>&nbsp; <span class="Comment">// here has the same name and orders keys *exactly* the same as the<br/></li>
<li></span>&nbsp; <span class="Comment">// comparator provided to previous open calls on the same <a href="db.h.html#L55" title="include/leveldb/db.h:55">DB</a>.<br/></li>
<li></span>&nbsp; <span class="Type">const</span> <a href="../../db/skiplist_test.cc.html#L17" title="db/skiplist_test.cc:17">Comparator</a>* comparator;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// If true, the database will be created if it is missing.<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: false<br/></li>
<li></span>&nbsp; <span class="Type">bool</span> create_if_missing;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// If true, an error is raised if the database already exists.<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: false<br/></li>
<li></span>&nbsp; <span class="Type">bool</span> error_if_exists;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// If true, the implementation will do aggressive checking of the<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../table/table_test.cc.html#L173" title="table/table_test.cc:173">data</a> it is processing and will stop early if it detects any<br/></li>
<li></span>&nbsp; <span class="Comment">// errors.&nbsp; This may have unforeseen ramifications: for example, a<br/></li>
<li></span>&nbsp; <span class="Comment">// corruption of one <a href="db.h.html#L55" title="include/leveldb/db.h:55">DB</a> entry may cause a large number of entries to<br/></li>
<li></span>&nbsp; <span class="Comment">// become unreadable or for the entire <a href="db.h.html#L55" title="include/leveldb/db.h:55">DB</a> to become unopenable.<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: false<br/></li>
<li></span>&nbsp; <span class="Type">bool</span> paranoid_checks;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// Use the specified object to interact with the environment,<br/></li>
<li></span>&nbsp; <span class="Comment">// e.g. to read/write files, schedule background work, etc.<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: <a href="env.h.html#L33" title="include/leveldb/env.h:33">Env</a>::<a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>()<br/></li>
<li></span>&nbsp; <a href="env.h.html#L33" title="include/leveldb/env.h:33">Env</a>* env;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// Any internal progress/error information generated by the <a href="../../table/table_test.cc.html#L175" title="table/table_test.cc:175">db</a> will<br/></li>
<li></span>&nbsp; <span class="Comment">// be written to info_log if it is non-NULL, or to a file stored<br/></li>
<li></span>&nbsp; <span class="Comment">// in the same directory as the <a href="db.h.html#L55" title="include/leveldb/db.h:55">DB</a> <a href="../../table/table_test.cc.html#L94" title="table/table_test.cc:94">contents</a> if info_log is NULL.<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: NULL<br/></li>
<li></span>&nbsp; <a href="env.h.html#L231" title="include/leveldb/env.h:231">Logger</a>* info_log;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// -------------------<br/></li>
<li></span>&nbsp; <span class="Comment">// Parameters that affect performance<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Comment">// Amount of <a href="../../table/table_test.cc.html#L173" title="table/table_test.cc:173">data</a> to build up in memory (backed by an unsorted log<br/></li>
<li></span>&nbsp; <span class="Comment">// on disk) before converting to a sorted on-disk file.<br/></li>
<li></span>&nbsp; <span class="Comment">//<br/></li>
<li></span>&nbsp; <span class="Comment">// Larger values increase performance, especially during bulk loads.<br/></li>
<li></span>&nbsp; <span class="Comment">// Up to two write buffers may be held in memory at the same time,<br/></li>
<li></span>&nbsp; <span class="Comment">// so you may wish to adjust this parameter to control memory usage.<br/></li>
<li></span>&nbsp; <span class="Comment">// Also, a larger write buffer will result in a longer recovery time<br/></li>
<li></span>&nbsp; <span class="Comment">// the next time the database is opened.<br/></li>
<li></span>&nbsp; <span class="Comment">//<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: 4MB<br/></li>
<li></span>&nbsp; <span class="Type">size_t</span> write_buffer_size;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// Number of open files that can be used by the <a href="db.h.html#L55" title="include/leveldb/db.h:55">DB</a>.&nbsp; You may need to<br/></li>
<li></span>&nbsp; <span class="Comment">// increase this if your database has a large working set (budget<br/></li>
<li></span>&nbsp; <span class="Comment">// one open file per 2MB of working set).<br/></li>
<li></span>&nbsp; <span class="Comment">//<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: 1000<br/></li>
<li></span>&nbsp; <span class="Type">int</span> max_open_files;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// Control over blocks (user <a href="../../table/table_test.cc.html#L173" title="table/table_test.cc:173">data</a> is stored in a set of blocks, and<br/></li>
<li></span>&nbsp; <span class="Comment">// a block is the unit of reading from disk).<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Comment">// If non-NULL, use the specified cache for blocks.<br/></li>
<li></span>&nbsp; <span class="Comment">// If NULL, leveldb will automatically create and use an 8MB internal cache.<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: NULL<br/></li>
<li></span>&nbsp; <a href="cache.h.html#L34" title="include/leveldb/cache.h:34">Cache</a>* block_cache;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// Approximate <a href="../../table/format.h.html#L31" title="table/format.h:31">size</a> of user <a href="../../table/table_test.cc.html#L173" title="table/table_test.cc:173">data</a> packed per block.&nbsp; Note that the<br/></li>
<li></span>&nbsp; <span class="Comment">// block <a href="../../table/format.h.html#L31" title="table/format.h:31">size</a> specified here corresponds to uncompressed <a href="../../table/table_test.cc.html#L173" title="table/table_test.cc:173">data</a>.&nbsp; The<br/></li>
<li></span>&nbsp; <span class="Comment">// actual <a href="../../table/format.h.html#L31" title="table/format.h:31">size</a> of the unit read from disk may be smaller if<br/></li>
<li></span>&nbsp; <span class="Comment">// compression is enabled.&nbsp; This parameter can be changed dynamically.<br/></li>
<li></span>&nbsp; <span class="Comment">//<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: 4K<br/></li>
<li></span>&nbsp; <span class="Type">size_t</span> block_size;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// Number of keys between restart points for delta encoding of keys.<br/></li>
<li></span>&nbsp; <span class="Comment">// This parameter can be changed dynamically.&nbsp; Most clients should<br/></li>
<li></span>&nbsp; <span class="Comment">// leave this parameter alone.<br/></li>
<li></span>&nbsp; <span class="Comment">//<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: 16<br/></li>
<li></span>&nbsp; <span class="Type">int</span> block_restart_interval;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// Compress blocks using the specified compression algorithm.&nbsp; This<br/></li>
<li></span>&nbsp; <span class="Comment">// parameter can be changed dynamically.<br/></li>
<li></span>&nbsp; <span class="Comment">//<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: kSnappyCompression, which gives lightweight but fast<br/></li>
<li></span>&nbsp; <span class="Comment">// compression.<br/></li>
<li></span>&nbsp; <span class="Comment">//<br/></li>
<li></span>&nbsp; <span class="Comment">// Typical speeds of kSnappyCompression on an Intel(R) Core(TM)2 2.4GHz:<br/></li>
<li></span>&nbsp; <span class="Comment">//&nbsp; &nbsp; ~200-500MB/s compression<br/></li>
<li></span>&nbsp; <span class="Comment">//&nbsp; &nbsp; ~400-800MB/s decompression<br/></li>
<li></span>&nbsp; <span class="Comment">// Note that these speeds are significantly faster than most<br/></li>
<li></span>&nbsp; <span class="Comment">// persistent storage speeds, and therefore it is typically never<br/></li>
<li></span>&nbsp; <span class="Comment">// worth switching to kNoCompression.&nbsp; Even if the <a href="../../db/version_set.h.html#L338" title="db/version_set.h:338">input</a> <a href="../../table/table_test.cc.html#L173" title="table/table_test.cc:173">data</a> is<br/></li>
<li></span>&nbsp; <span class="Comment">// incompressible, the kSnappyCompression implementation will<br/></li>
<li></span>&nbsp; <span class="Comment">// efficiently detect that and will switch to uncompressed mode.<br/></li>
<li></span>&nbsp; <a href="#L23" title="include/leveldb/options.h:23">CompressionType</a> compression;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// If non-NULL, use the specified filter policy to reduce disk reads.<br/></li>
<li></span>&nbsp; <span class="Comment">// Many applications will benefit from passing the result of<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/bloom.cc.html#L91" title="util/bloom.cc:91">NewBloomFilterPolicy</a>() here.<br/></li>
<li></span>&nbsp; <span class="Comment">//<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: NULL<br/></li>
<li></span>&nbsp; <span class="Type">const</span> FilterPolicy* filter_policy;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// Create an <a href="#L31" title="include/leveldb/options.h:31">Options</a> object with default values for all fields.<br/></li>
<li></span>&nbsp; <a href="#L31" title="include/leveldb/options.h:31">Options</a>();<br/></li>
<li>};<br/></li>
<li><br/></li>
<li><span class="Comment">// <a href="#L31" title="include/leveldb/options.h:31">Options</a> that control read operations<br/></li>
<li><a id="L143">&#x200c;</a></span><span class="Type">struct</span> <span class="linkable">ReadOptions</span> {<br/></li>
<li>&nbsp; <span class="Comment">// If true, all <a href="../../table/table_test.cc.html#L173" title="table/table_test.cc:173">data</a> read from underlying storage will be<br/></li>
<li></span>&nbsp; <span class="Comment">// verified against corresponding checksums.<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: false<br/></li>
<li></span>&nbsp; <span class="Type">bool</span> verify_checksums;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// Should the <a href="../../table/table_test.cc.html#L173" title="table/table_test.cc:173">data</a> read for this iteration be cached in memory?<br/></li>
<li></span>&nbsp; <span class="Comment">// Callers may wish to set this field to false for bulk scans.<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: true<br/></li>
<li></span>&nbsp; <span class="Type">bool</span> fill_cache;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">// If &quot;snapshot&quot; is non-NULL, read as of the supplied snapshot<br/></li>
<li></span>&nbsp; <span class="Comment">// (which must belong to the <a href="db.h.html#L55" title="include/leveldb/db.h:55">DB</a> that is being read and which must<br/></li>
<li></span>&nbsp; <span class="Comment">// not have been released).&nbsp; If &quot;snapshot&quot; is NULL, use an implicit<br/></li>
<li></span>&nbsp; <span class="Comment">// snapshot of the state at the beginning of this read operation.<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: NULL<br/></li>
<li></span>&nbsp; <span class="Type">const</span> Snapshot* snapshot;<br/></li>
<li><br/></li>
<li><a id="L161">&#x200c;</a>&nbsp; <span class="linkable">ReadOptions</span>()<br/></li>
<li>&nbsp; &nbsp; &nbsp; : verify_checksums(<span class="Constant">false</span>),<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; fill_cache(<span class="Constant">true</span>),<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; snapshot(<span class="Constant">NULL</span>) {<br/></li>
<li>&nbsp; }<br/></li>
<li>};<br/></li>
<li><br/></li>
<li><span class="Comment">// <a href="#L31" title="include/leveldb/options.h:31">Options</a> that control write operations<br/></li>
<li><a id="L169">&#x200c;</a></span><span class="Type">struct</span> <span class="linkable">WriteOptions</span> {<br/></li>
<li>&nbsp; <span class="Comment">// If true, the write will be flushed from the operating system<br/></li>
<li></span>&nbsp; <span class="Comment">// buffer cache (by calling <a href="env.h.html#L214" title="include/leveldb/env.h:214">WritableFile</a>::<a href="../../table/table_test.cc.html#L98" title="table/table_test.cc:98">Sync</a>()) before the write<br/></li>
<li></span>&nbsp; <span class="Comment">// is considered complete.&nbsp; If this flag is true, writes will be<br/></li>
<li></span>&nbsp; <span class="Comment">// slower.<br/></li>
<li></span>&nbsp; <span class="Comment">//<br/></li>
<li></span>&nbsp; <span class="Comment">// If this flag is false, and the machine crashes, some recent<br/></li>
<li></span>&nbsp; <span class="Comment">// writes may be lost.&nbsp; Note that if it is just the process that<br/></li>
<li></span>&nbsp; <span class="Comment">// crashes (i.e., the machine does not reboot), no writes will be<br/></li>
<li></span>&nbsp; <span class="Comment">// lost even if sync==false.<br/></li>
<li></span>&nbsp; <span class="Comment">//<br/></li>
<li></span>&nbsp; <span class="Comment">// In other words, a <a href="db.h.html#L55" title="include/leveldb/db.h:55">DB</a> write with sync==false has similar<br/></li>
<li></span>&nbsp; <span class="Comment">// crash semantics as the &quot;write()&quot; system call.&nbsp; A <a href="db.h.html#L55" title="include/leveldb/db.h:55">DB</a> write<br/></li>
<li></span>&nbsp; <span class="Comment">// with sync==true has similar crash semantics to a &quot;write()&quot;<br/></li>
<li></span>&nbsp; <span class="Comment">// system call followed by &quot;fsync()&quot;.<br/></li>
<li></span>&nbsp; <span class="Comment">//<br/></li>
<li></span>&nbsp; <span class="Comment">// <a href="../../util/env_posix.cc.html#L600" title="util/env_posix.cc:600">Default</a>: false<br/></li>
<li></span>&nbsp; <span class="Type">bool</span> sync;<br/></li>
<li><br/></li>
<li><a id="L188">&#x200c;</a>&nbsp; <span class="linkable">WriteOptions</span>()<br/></li>
<li>&nbsp; &nbsp; &nbsp; : sync(<span class="Constant">false</span>) {<br/></li>
<li>&nbsp; }<br/></li>
<li>};<br/></li>
<li><br/></li>
<li>}&nbsp; <span class="Comment">// namespace leveldb<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#endif</span>&nbsp; <span class="Comment">// <a href="#L6" title="include/leveldb/options.h:6">STORAGE_LEVELDB_INCLUDE_OPTIONS_H_</a><br/></li>
</ol></span></code>
 </body>
</html>
