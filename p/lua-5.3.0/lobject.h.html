<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>lobject.h - src</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

code {
    font-family: consolas, monospace;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
  <h3>lobject.h - src</h3>
   <a href="../index.html"> Table of Contents </a>
 <h4>Global variables defined</h4>
 <ul>
<li><a href="#L519">luaO_nilobject_</a></li>
</ul>
 <h4>Data types defined</h4>
 <ul>
<li><a href="#L437">CClosure</a></li>
<li><a href="#L441">CClosure</a></li>
<li><a href="#L451">Closure</a></li>
<li><a href="#L454">Closure</a></li>
<li><a href="#L74">GCObject</a></li>
<li><a href="#L87">GCObject</a></li>
<li><a href="#L444">LClosure</a></li>
<li><a href="#L448">LClosure</a></li>
<li><a href="#L388">LocVar</a></li>
<li><a href="#L392">LocVar</a></li>
<li><a href="#L482">Node</a></li>
<li><a href="#L485">Node</a></li>
<li><a href="#L398">Proto</a></li>
<li><a href="#L420">Proto</a></li>
<li><a href="#L294">StkId</a></li>
<li><a href="#L466">TKey</a></li>
<li><a href="#L472">TKey</a></li>
<li><a href="#L303">TString</a></li>
<li><a href="#L309">TString</a></li>
<li><a href="#L108">TValue</a></li>
<li><a href="#L488">Table</a></li>
<li><a href="#L498">Table</a></li>
<li><a href="#L315">UTString</a></li>
<li><a href="#L318">UTString</a></li>
<li><a href="#L349">UUdata</a></li>
<li><a href="#L352">UUdata</a></li>
<li><a href="#L337">Udata</a></li>
<li><a href="#L343">Udata</a></li>
<li><a href="#L427">UpVal</a></li>
<li><a href="#L377">Upvaldesc</a></li>
<li><a href="#L381">Upvaldesc</a></li>
<li><a href="#L96">Value</a></li>
<li><a href="#L279">Value</a></li>
<li><a href="#L289">lua_TValue</a></li>
</ul>
 <h4>Macros defined</h4>
 <ul>
<li><a href="#L65">BIT_ISCOLLECTABLE</a></li>
<li><a href="#L434">ClosureHeader</a></li>
<li><a href="#L81">CommonHeader</a></li>
<li><a href="#L51">LUA_TCCL</a></li>
<li><a href="#L23">LUA_TDEADKEY</a></li>
<li><a href="#L50">LUA_TLCF</a></li>
<li><a href="#L49">LUA_TLCL</a></li>
<li><a href="#L56">LUA_TLNGSTR</a></li>
<li><a href="#L60">LUA_TNUMFLT</a></li>
<li><a href="#L61">LUA_TNUMINT</a></li>
<li><a href="#L28">LUA_TOTALTAGS</a></li>
<li><a href="#L22">LUA_TPROTO</a></li>
<li><a href="#L55">LUA_TSHRSTR</a></li>
<li><a href="#L112">NILCONSTANT</a></li>
<li><a href="#L106">TValuefields</a></li>
<li><a href="#L522">UTF8BUFFSZ</a></li>
<li><a href="#L38">VARBITS</a></li>
<li><a href="#L168">bvalue</a></li>
<li><a href="#L182">checkliveness</a></li>
<li><a href="#L132">checktag</a></li>
<li><a href="#L133">checktype</a></li>
<li><a href="#L165">clCvalue</a></li>
<li><a href="#L164">clLvalue</a></li>
<li><a href="#L163">clvalue</a></li>
<li><a href="#L68">ctb</a></li>
<li><a href="#L171">deadvalue</a></li>
<li><a href="#L156">fltvalue</a></li>
<li><a href="#L166">fvalue</a></li>
<li><a href="#L159">gcvalue</a></li>
<li><a href="#L325">getaddrstr</a></li>
<li><a href="#L459">getproto</a></li>
<li><a href="#L326">getstr</a></li>
<li><a href="#L359">getudatamem</a></li>
<li><a href="#L368">getuservalue</a></li>
<li><a href="#L167">hvalue</a></li>
<li><a href="#L457">isLfunction</a></li>
<li><a href="#L176">iscollectable</a></li>
<li><a href="#L155">ivalue</a></li>
<li><a href="#L173">l_isfalse</a></li>
<li><a href="#L505">lmod</a></li>
<li><a href="#L9">lobject_h</a></li>
<li><a href="#L516">luaO_nilobject</a></li>
<li><a href="#L122">novariant</a></li>
<li><a href="#L157">nvalue</a></li>
<li><a href="#L160">pvalue</a></li>
<li><a href="#L180">righttt</a></li>
<li><a href="#L119">rttype</a></li>
<li><a href="#L204">setbvalue</a></li>
<li><a href="#L231">setclCvalue</a></li>
<li><a href="#L226">setclLvalue</a></li>
<li><a href="#L241">setdeadvalue</a></li>
<li><a href="#L190">setfltvalue</a></li>
<li><a href="#L198">setfvalue</a></li>
<li><a href="#L207">setgcovalue</a></li>
<li><a href="#L236">sethvalue</a></li>
<li><a href="#L259">sethvalue2s</a></li>
<li><a href="#L193">setivalue</a></li>
<li><a href="#L196">setnilvalue</a></li>
<li><a href="#L476">setnodekey</a></li>
<li><a href="#L245">setobj</a></li>
<li><a href="#L266">setobj2n</a></li>
<li><a href="#L257">setobj2s</a></li>
<li><a href="#L264">setobj2t</a></li>
<li><a href="#L255">setobjs2s</a></li>
<li><a href="#L262">setobjt2t</a></li>
<li><a href="#L260">setptvalue2s</a></li>
<li><a href="#L201">setpvalue</a></li>
<li><a href="#L211">setsvalue</a></li>
<li><a href="#L267">setsvalue2n</a></li>
<li><a href="#L258">setsvalue2s</a></li>
<li><a href="#L221">setthvalue</a></li>
<li><a href="#L188">settt_</a></li>
<li><a href="#L362">setuservalue</a></li>
<li><a href="#L216">setuvalue</a></li>
<li><a href="#L510">sizenode</a></li>
<li><a href="#L330">svalue</a></li>
<li><a href="#L169">thvalue</a></li>
<li><a href="#L161">tsvalue</a></li>
<li><a href="#L146">ttisCclosure</a></li>
<li><a href="#L147">ttisLclosure</a></li>
<li><a href="#L138">ttisboolean</a></li>
<li><a href="#L145">ttisclosure</a></li>
<li><a href="#L151">ttisdeadkey</a></li>
<li><a href="#L135">ttisfloat</a></li>
<li><a href="#L149">ttisfulluserdata</a></li>
<li><a href="#L144">ttisfunction</a></li>
<li><a href="#L136">ttisinteger</a></li>
<li><a href="#L148">ttislcf</a></li>
<li><a href="#L139">ttislightuserdata</a></li>
<li><a href="#L142">ttislngstring</a></li>
<li><a href="#L137">ttisnil</a></li>
<li><a href="#L134">ttisnumber</a></li>
<li><a href="#L141">ttisshrstring</a></li>
<li><a href="#L140">ttisstring</a></li>
<li><a href="#L143">ttistable</a></li>
<li><a href="#L150">ttisthread</a></li>
<li><a href="#L128">ttnov</a></li>
<li><a href="#L125">ttype</a></li>
<li><a href="#L509">twoto</a></li>
<li><a href="#L162">uvalue</a></li>
<li><a href="#L115">val_</a></li>
</ul>
 <h4>Source code</h4>

  <code><ol><li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** $Id: lobject.h,v 2.106 2015/01/05 13:52:37 roberto Exp $<br/></li>
<li></span><span class="Comment">** Type definitions for Lua objects<br/></li>
<li></span><span class="Comment">** See Copyright Notice in lua.h<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="PreProc">#ifndef <a href="#L9" title="lobject.h:9">lobject_h</a><br/></li>
<li><a id="L9">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">lobject_h</span><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&lt;stdarg.h&gt;<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&quot;llimits.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;lua.h&quot;<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Extra tags for non-values<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L22">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">LUA_TPROTO</span>&nbsp; &nbsp; &nbsp; &nbsp; <a href="lua.h.html#L72" title="lua.h:72">LUA_NUMTAGS</a><br/></li>
<li><a id="L23">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">LUA_TDEADKEY</span>&nbsp; &nbsp; &nbsp; &nbsp; (<a href="lua.h.html#L72" title="lua.h:72">LUA_NUMTAGS</a>+</span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** number of all possible tags (including <a href="lua.h.html#L60" title="lua.h:60">LUA_TNONE</a> but excluding DEADKEY)<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L28">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">LUA_TOTALTAGS</span>&nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L22" title="lobject.h:22">LUA_TPROTO</a> + </span><span class="Constant">2</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** tags for Tagged Values have the following use of bits:<br/></li>
<li></span><span class="Comment">** bits 0-3: actual tag (a LUA_T* value)<br/></li>
<li></span><span class="Comment">** bits 4-5: variant bits<br/></li>
<li></span><span class="Comment">** bit 6: whether value is collectable<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><a id="L38">&#x200c;</a><span class="PreProc">#define <span class="linkable">VARBITS</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (</span><span class="Constant">3</span><span class="PreProc"> &lt;&lt; </span><span class="Constant">4</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** <a href="lua.h.html#L68" title="lua.h:68">LUA_TFUNCTION</a> variants:<br/></li>
<li></span><span class="Comment">** 0 - Lua function<br/></li>
<li></span><span class="Comment">** 1 - light C function<br/></li>
<li></span><span class="Comment">** 2 - regular C function (closure)<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Variant tags for functions */<br/></li>
<li><a id="L49">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">LUA_TLCL</span>&nbsp; &nbsp; &nbsp; &nbsp; (<a href="lua.h.html#L68" title="lua.h:68">LUA_TFUNCTION</a> | (</span><span class="Constant">0</span><span class="PreProc"> &lt;&lt; </span><span class="Constant">4</span><span class="PreProc">))&nbsp; </span><span class="Comment">/* Lua closure */<br/></li>
<li><a id="L50">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">LUA_TLCF</span>&nbsp; &nbsp; &nbsp; &nbsp; (<a href="lua.h.html#L68" title="lua.h:68">LUA_TFUNCTION</a> | (</span><span class="Constant">1</span><span class="PreProc"> &lt;&lt; </span><span class="Constant">4</span><span class="PreProc">))&nbsp; </span><span class="Comment">/* light C function */<br/></li>
<li><a id="L51">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">LUA_TCCL</span>&nbsp; &nbsp; &nbsp; &nbsp; (<a href="lua.h.html#L68" title="lua.h:68">LUA_TFUNCTION</a> | (</span><span class="Constant">2</span><span class="PreProc"> &lt;&lt; </span><span class="Constant">4</span><span class="PreProc">))&nbsp; </span><span class="Comment">/* C closure */<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* Variant tags for strings */<br/></li>
<li><a id="L55">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">LUA_TSHRSTR</span>&nbsp; &nbsp; &nbsp; &nbsp; (<a href="lua.h.html#L66" title="lua.h:66">LUA_TSTRING</a> | (</span><span class="Constant">0</span><span class="PreProc"> &lt;&lt; </span><span class="Constant">4</span><span class="PreProc">))&nbsp; </span><span class="Comment">/* short strings */<br/></li>
<li><a id="L56">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">LUA_TLNGSTR</span>&nbsp; &nbsp; &nbsp; &nbsp; (<a href="lua.h.html#L66" title="lua.h:66">LUA_TSTRING</a> | (</span><span class="Constant">1</span><span class="PreProc"> &lt;&lt; </span><span class="Constant">4</span><span class="PreProc">))&nbsp; </span><span class="Comment">/* long strings */<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* Variant tags for numbers */<br/></li>
<li><a id="L60">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">LUA_TNUMFLT</span>&nbsp; &nbsp; &nbsp; &nbsp; (<a href="lua.h.html#L65" title="lua.h:65">LUA_TNUMBER</a> | (</span><span class="Constant">0</span><span class="PreProc"> &lt;&lt; </span><span class="Constant">4</span><span class="PreProc">))&nbsp; </span><span class="Comment">/* float numbers */<br/></li>
<li><a id="L61">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">LUA_TNUMINT</span>&nbsp; &nbsp; &nbsp; &nbsp; (<a href="lua.h.html#L65" title="lua.h:65">LUA_TNUMBER</a> | (</span><span class="Constant">1</span><span class="PreProc"> &lt;&lt; </span><span class="Constant">4</span><span class="PreProc">))&nbsp; </span><span class="Comment">/* integer numbers */<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* Bit mark for collectable types */<br/></li>
<li><a id="L65">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">BIT_ISCOLLECTABLE</span>&nbsp; &nbsp; &nbsp; &nbsp; (</span><span class="Constant">1</span><span class="PreProc"> &lt;&lt; </span><span class="Constant">6</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* mark a tag as collectable */<br/></li>
<li><a id="L68">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ctb</span>(t)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((t) | <a href="#L65" title="lobject.h:65">BIT_ISCOLLECTABLE</a>)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Common type for all collectable objects<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L74">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">GCObject</span> <span class="linkable">GCObject</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Common <a href="lstrlib.c.html#L1002" title="lstrlib.c:1002">Header</a> for all collectable objects (in macro form, to be<br/></li>
<li></span><span class="Comment">** included in other objects)<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L81">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">CommonHeader</span>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L87" title="lobject.h:87">GCObject</a> *<a href="llex.c.html#L31" title="llex.c:31">next</a>; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> tt; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> marked<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Common type has only the common header<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L87">&#x200c;</a></span><span class="Type">struct</span> <span class="linkable">GCObject</span> {<br/></li>
<li>&nbsp; <a href="#L81" title="lobject.h:81">CommonHeader</a>;<br/></li>
<li>};<br/></li>
<li><br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Union of all Lua values<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L96">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">union</span> <span class="linkable">Value</span> <span class="linkable">Value</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Tagged Values. This is the basic representation of values in Lua,<br/></li>
<li></span><span class="Comment">** an actual value plus a tag with its type.<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><a id="L106">&#x200c;</a><span class="PreProc">#define <span class="linkable">TValuefields</span>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L96" title="lobject.h:96">Value</a> value_; </span><span class="Type">int</span><span class="PreProc"> tt_<br/></li>
<li></span><br/></li>
<li><a id="L108">&#x200c;</a><span class="Type">typedef</span> <span class="Type">struct</span> <a href="#L289" title="lobject.h:289">lua_TValue</a> <span class="linkable">TValue</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/* macro defining a nil value */<br/></li>
<li><a id="L112">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">NILCONSTANT</span>&nbsp; &nbsp; &nbsp; &nbsp; {</span><span class="Constant">NULL</span><span class="PreProc">}, <a href="lua.h.html#L62" title="lua.h:62">LUA_TNIL</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L115">&#x200c;</a><span class="PreProc">#define <span class="linkable">val_</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((o)-&gt;value_)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* raw type tag of a <a href="#L108" title="lobject.h:108">TValue</a> */<br/></li>
<li><a id="L119">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">rttype</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; ((o)-&gt;tt_)<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* tag with no variants (bits 0-3) */<br/></li>
<li><a id="L122">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">novariant</span>(x)&nbsp; &nbsp; &nbsp; &nbsp; ((x) &amp; </span><span class="Constant">0x0F</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* type tag of a <a href="#L108" title="lobject.h:108">TValue</a> (bits 0-3 for tags + variant bits 4-5) */<br/></li>
<li><a id="L125">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttype</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L119" title="lobject.h:119">rttype</a>(o) &amp; </span><span class="Constant">0x3F</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* type tag of a <a href="#L108" title="lobject.h:108">TValue</a> with no variants (bits 0-3) */<br/></li>
<li><a id="L128">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttnov</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L122" title="lobject.h:122">novariant</a>(<a href="#L119" title="lobject.h:119">rttype</a>(o)))<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* Macros to test type */<br/></li>
<li><a id="L132">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">checktag</span>(o,t)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L119" title="lobject.h:119">rttype</a>(o) == (t))<br/></li>
<li><a id="L133">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">checktype</span>(o,t)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L128" title="lobject.h:128">ttnov</a>(o) == (t))<br/></li>
<li><a id="L134">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisnumber</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L133" title="lobject.h:133">checktype</a>((o), <a href="lua.h.html#L65" title="lua.h:65">LUA_TNUMBER</a>)<br/></li>
<li><a id="L135">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisfloat</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="#L60" title="lobject.h:60">LUA_TNUMFLT</a>)<br/></li>
<li><a id="L136">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisinteger</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="#L61" title="lobject.h:61">LUA_TNUMINT</a>)<br/></li>
<li><a id="L137">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisnil</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="lua.h.html#L62" title="lua.h:62">LUA_TNIL</a>)<br/></li>
<li><a id="L138">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisboolean</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="lua.h.html#L63" title="lua.h:63">LUA_TBOOLEAN</a>)<br/></li>
<li><a id="L139">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttislightuserdata</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="lua.h.html#L64" title="lua.h:64">LUA_TLIGHTUSERDATA</a>)<br/></li>
<li><a id="L140">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisstring</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L133" title="lobject.h:133">checktype</a>((o), <a href="lua.h.html#L66" title="lua.h:66">LUA_TSTRING</a>)<br/></li>
<li><a id="L141">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisshrstring</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="#L68" title="lobject.h:68">ctb</a>(<a href="#L55" title="lobject.h:55">LUA_TSHRSTR</a>))<br/></li>
<li><a id="L142">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttislngstring</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="#L68" title="lobject.h:68">ctb</a>(<a href="#L56" title="lobject.h:56">LUA_TLNGSTR</a>))<br/></li>
<li><a id="L143">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttistable</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="#L68" title="lobject.h:68">ctb</a>(<a href="lua.h.html#L67" title="lua.h:67">LUA_TTABLE</a>))<br/></li>
<li><a id="L144">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisfunction</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L133" title="lobject.h:133">checktype</a>(o, <a href="lua.h.html#L68" title="lua.h:68">LUA_TFUNCTION</a>)<br/></li>
<li><a id="L145">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisclosure</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((<a href="#L119" title="lobject.h:119">rttype</a>(o) &amp; </span><span class="Constant">0x1F</span><span class="PreProc">) == <a href="lua.h.html#L68" title="lua.h:68">LUA_TFUNCTION</a>)<br/></li>
<li><a id="L146">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisCclosure</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="#L68" title="lobject.h:68">ctb</a>(<a href="#L51" title="lobject.h:51">LUA_TCCL</a>))<br/></li>
<li><a id="L147">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisLclosure</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="#L68" title="lobject.h:68">ctb</a>(<a href="#L49" title="lobject.h:49">LUA_TLCL</a>))<br/></li>
<li><a id="L148">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttislcf</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="#L50" title="lobject.h:50">LUA_TLCF</a>)<br/></li>
<li><a id="L149">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisfulluserdata</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="#L68" title="lobject.h:68">ctb</a>(<a href="lua.h.html#L69" title="lua.h:69">LUA_TUSERDATA</a>))<br/></li>
<li><a id="L150">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisthread</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="#L68" title="lobject.h:68">ctb</a>(<a href="lua.h.html#L70" title="lua.h:70">LUA_TTHREAD</a>))<br/></li>
<li><a id="L151">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ttisdeadkey</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L132" title="lobject.h:132">checktag</a>((o), <a href="#L23" title="lobject.h:23">LUA_TDEADKEY</a>)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* Macros to access values */<br/></li>
<li><a id="L155">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">ivalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L136" title="lobject.h:136">ttisinteger</a>(o), <a href="#L115" title="lobject.h:115">val_</a>(o).i)<br/></li>
<li><a id="L156">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">fltvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L135" title="lobject.h:135">ttisfloat</a>(o), <a href="#L115" title="lobject.h:115">val_</a>(o).n)<br/></li>
<li><a id="L157">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">nvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L134" title="lobject.h:134">ttisnumber</a>(o), \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L136" title="lobject.h:136">ttisinteger</a>(o) ? <a href="llimits.h.html#L111" title="llimits.h:111">cast_num</a>(<a href="#L155" title="lobject.h:155">ivalue</a>(o)) : <a href="#L156" title="lobject.h:156">fltvalue</a>(o)))<br/></li>
<li><a id="L159">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">gcvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L176" title="lobject.h:176">iscollectable</a>(o), <a href="#L115" title="lobject.h:115">val_</a>(o).gc)<br/></li>
<li><a id="L160">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">pvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L139" title="lobject.h:139">ttislightuserdata</a>(o), <a href="#L115" title="lobject.h:115">val_</a>(o).p)<br/></li>
<li><a id="L161">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">tsvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L140" title="lobject.h:140">ttisstring</a>(o), <a href="lstate.h.html#L195" title="lstate.h:195">gco2ts</a>(<a href="#L115" title="lobject.h:115">val_</a>(o).gc))<br/></li>
<li><a id="L162">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">uvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L149" title="lobject.h:149">ttisfulluserdata</a>(o), <a href="lstate.h.html#L197" title="lstate.h:197">gco2u</a>(<a href="#L115" title="lobject.h:115">val_</a>(o).gc))<br/></li>
<li><a id="L163">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">clvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L145" title="lobject.h:145">ttisclosure</a>(o), <a href="lstate.h.html#L200" title="lstate.h:200">gco2cl</a>(<a href="#L115" title="lobject.h:115">val_</a>(o).gc))<br/></li>
<li><a id="L164">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">clLvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L147" title="lobject.h:147">ttisLclosure</a>(o), <a href="lstate.h.html#L198" title="lstate.h:198">gco2lcl</a>(<a href="#L115" title="lobject.h:115">val_</a>(o).gc))<br/></li>
<li><a id="L165">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">clCvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L146" title="lobject.h:146">ttisCclosure</a>(o), <a href="lstate.h.html#L199" title="lstate.h:199">gco2ccl</a>(<a href="#L115" title="lobject.h:115">val_</a>(o).gc))<br/></li>
<li><a id="L166">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">fvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L148" title="lobject.h:148">ttislcf</a>(o), <a href="#L115" title="lobject.h:115">val_</a>(o).f)<br/></li>
<li><a id="L167">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">hvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L143" title="lobject.h:143">ttistable</a>(o), <a href="lstate.h.html#L202" title="lstate.h:202">gco2t</a>(<a href="#L115" title="lobject.h:115">val_</a>(o).gc))<br/></li>
<li><a id="L168">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">bvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L138" title="lobject.h:138">ttisboolean</a>(o), <a href="#L115" title="lobject.h:115">val_</a>(o).b)<br/></li>
<li><a id="L169">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">thvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L150" title="lobject.h:150">ttisthread</a>(o), <a href="lstate.h.html#L204" title="lstate.h:204">gco2th</a>(<a href="#L115" title="lobject.h:115">val_</a>(o).gc))<br/></li>
<li></span><span class="Comment">/* a dead value may get the 'gc' <a href="lparser.c.html#L696" title="lparser.c:696">field</a>, but <a href="luac.c.html#L44" title="luac.c:44">cannot</a> access its contents */<br/></li>
<li><a id="L171">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">deadvalue</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(<a href="#L151" title="lobject.h:151">ttisdeadkey</a>(o), <a href="llimits.h.html#L107" title="llimits.h:107">cast</a>(</span><span class="Type">void</span><span class="PreProc"> *, <a href="#L115" title="lobject.h:115">val_</a>(o).gc))<br/></li>
<li></span><br/></li>
<li><a id="L173">&#x200c;</a><span class="PreProc">#define <span class="linkable">l_isfalse</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L137" title="lobject.h:137">ttisnil</a>(o) || (<a href="#L138" title="lobject.h:138">ttisboolean</a>(o) &amp;&amp; <a href="#L168" title="lobject.h:168">bvalue</a>(o) == </span><span class="Constant">0</span><span class="PreProc">))<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L176">&#x200c;</a><span class="PreProc">#define <span class="linkable">iscollectable</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L119" title="lobject.h:119">rttype</a>(o) &amp; <a href="#L65" title="lobject.h:65">BIT_ISCOLLECTABLE</a>)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* Macros for internal tests */<br/></li>
<li><a id="L180">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">righttt</span>(obj)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L125" title="lobject.h:125">ttype</a>(obj) == <a href="#L159" title="lobject.h:159">gcvalue</a>(obj)-&gt;tt)<br/></li>
<li></span><br/></li>
<li><a id="L182">&#x200c;</a><span class="PreProc">#define <span class="linkable">checkliveness</span>(g,obj) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L81" title="llimits.h:81">lua_longassert</a>(!<a href="#L176" title="lobject.h:176">iscollectable</a>(obj) || \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L180" title="lobject.h:180">righttt</a>(obj) &amp;&amp; !<a href="lgc.h.html#L96" title="lgc.h:96">isdead</a>(g,<a href="#L159" title="lobject.h:159">gcvalue</a>(obj))))<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* Macros to set values */<br/></li>
<li><a id="L188">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">settt_</span>(o,t)&nbsp; &nbsp; &nbsp; &nbsp; ((o)-&gt;tt_=(t))<br/></li>
<li></span><br/></li>
<li><a id="L190">&#x200c;</a><span class="PreProc">#define <span class="linkable">setfltvalue</span>(obj,x) \<br/></li>
<li></span><span class="PreProc">&nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io=(obj); <a href="#L115" title="lobject.h:115">val_</a>(io).n=(x); <a href="#L188" title="lobject.h:188">settt_</a>(io, <a href="#L60" title="lobject.h:60">LUA_TNUMFLT</a>); }<br/></li>
<li></span><br/></li>
<li><a id="L193">&#x200c;</a><span class="PreProc">#define <span class="linkable">setivalue</span>(obj,x) \<br/></li>
<li></span><span class="PreProc">&nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io=(obj); <a href="#L115" title="lobject.h:115">val_</a>(io).i=(x); <a href="#L188" title="lobject.h:188">settt_</a>(io, <a href="#L61" title="lobject.h:61">LUA_TNUMINT</a>); }<br/></li>
<li></span><br/></li>
<li><a id="L196">&#x200c;</a><span class="PreProc">#define <span class="linkable">setnilvalue</span>(obj) <a href="#L188" title="lobject.h:188">settt_</a>(obj, <a href="lua.h.html#L62" title="lua.h:62">LUA_TNIL</a>)<br/></li>
<li></span><br/></li>
<li><a id="L198">&#x200c;</a><span class="PreProc">#define <span class="linkable">setfvalue</span>(obj,x) \<br/></li>
<li></span><span class="PreProc">&nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io=(obj); <a href="#L115" title="lobject.h:115">val_</a>(io).f=(x); <a href="#L188" title="lobject.h:188">settt_</a>(io, <a href="#L50" title="lobject.h:50">LUA_TLCF</a>); }<br/></li>
<li></span><br/></li>
<li><a id="L201">&#x200c;</a><span class="PreProc">#define <span class="linkable">setpvalue</span>(obj,x) \<br/></li>
<li></span><span class="PreProc">&nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io=(obj); <a href="#L115" title="lobject.h:115">val_</a>(io).p=(x); <a href="#L188" title="lobject.h:188">settt_</a>(io, <a href="lua.h.html#L64" title="lua.h:64">LUA_TLIGHTUSERDATA</a>); }<br/></li>
<li></span><br/></li>
<li><a id="L204">&#x200c;</a><span class="PreProc">#define <span class="linkable">setbvalue</span>(obj,x) \<br/></li>
<li></span><span class="PreProc">&nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io=(obj); <a href="#L115" title="lobject.h:115">val_</a>(io).b=(x); <a href="#L188" title="lobject.h:188">settt_</a>(io, <a href="lua.h.html#L63" title="lua.h:63">LUA_TBOOLEAN</a>); }<br/></li>
<li></span><br/></li>
<li><a id="L207">&#x200c;</a><span class="PreProc">#define <span class="linkable">setgcovalue</span>(L,obj,x) \<br/></li>
<li></span><span class="PreProc">&nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io = (obj); <a href="#L87" title="lobject.h:87">GCObject</a> *i_g=(x); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; <a href="#L115" title="lobject.h:115">val_</a>(io).gc = i_g; <a href="#L188" title="lobject.h:188">settt_</a>(io, <a href="#L68" title="lobject.h:68">ctb</a>(i_g-&gt;tt)); }<br/></li>
<li></span><br/></li>
<li><a id="L211">&#x200c;</a><span class="PreProc">#define <span class="linkable">setsvalue</span>(L,obj,x) \<br/></li>
<li></span><span class="PreProc">&nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io = (obj); <a href="#L303" title="lobject.h:303">TString</a> *x_ = (x); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; <a href="#L115" title="lobject.h:115">val_</a>(io).gc = <a href="lstate.h.html#L208" title="lstate.h:208">obj2gco</a>(x_); <a href="#L188" title="lobject.h:188">settt_</a>(io, <a href="#L68" title="lobject.h:68">ctb</a>(x_-&gt;tt)); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; <a href="#L182" title="lobject.h:182">checkliveness</a>(<a href="lstate.h.html#L175" title="lstate.h:175">G</a>(L),io); }<br/></li>
<li></span><br/></li>
<li><a id="L216">&#x200c;</a><span class="PreProc">#define <span class="linkable">setuvalue</span>(L,obj,x) \<br/></li>
<li></span><span class="PreProc">&nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io = (obj); <a href="#L337" title="lobject.h:337">Udata</a> *x_ = (x); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; <a href="#L115" title="lobject.h:115">val_</a>(io).gc = <a href="lstate.h.html#L208" title="lstate.h:208">obj2gco</a>(x_); <a href="#L188" title="lobject.h:188">settt_</a>(io, <a href="#L68" title="lobject.h:68">ctb</a>(<a href="lua.h.html#L69" title="lua.h:69">LUA_TUSERDATA</a>)); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; <a href="#L182" title="lobject.h:182">checkliveness</a>(<a href="lstate.h.html#L175" title="lstate.h:175">G</a>(L),io); }<br/></li>
<li></span><br/></li>
<li><a id="L221">&#x200c;</a><span class="PreProc">#define <span class="linkable">setthvalue</span>(L,obj,x) \<br/></li>
<li></span><span class="PreProc">&nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io = (obj); <a href="lstate.h.html#L149" title="lstate.h:149">lua_State</a> *x_ = (x); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; <a href="#L115" title="lobject.h:115">val_</a>(io).gc = <a href="lstate.h.html#L208" title="lstate.h:208">obj2gco</a>(x_); <a href="#L188" title="lobject.h:188">settt_</a>(io, <a href="#L68" title="lobject.h:68">ctb</a>(<a href="lua.h.html#L70" title="lua.h:70">LUA_TTHREAD</a>)); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; <a href="#L182" title="lobject.h:182">checkliveness</a>(<a href="lstate.h.html#L175" title="lstate.h:175">G</a>(L),io); }<br/></li>
<li></span><br/></li>
<li><a id="L226">&#x200c;</a><span class="PreProc">#define <span class="linkable">setclLvalue</span>(L,obj,x) \<br/></li>
<li></span><span class="PreProc">&nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io = (obj); <a href="#L444" title="lobject.h:444">LClosure</a> *x_ = (x); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; <a href="#L115" title="lobject.h:115">val_</a>(io).gc = <a href="lstate.h.html#L208" title="lstate.h:208">obj2gco</a>(x_); <a href="#L188" title="lobject.h:188">settt_</a>(io, <a href="#L68" title="lobject.h:68">ctb</a>(<a href="#L49" title="lobject.h:49">LUA_TLCL</a>)); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; <a href="#L182" title="lobject.h:182">checkliveness</a>(<a href="lstate.h.html#L175" title="lstate.h:175">G</a>(L),io); }<br/></li>
<li></span><br/></li>
<li><a id="L231">&#x200c;</a><span class="PreProc">#define <span class="linkable">setclCvalue</span>(L,obj,x) \<br/></li>
<li></span><span class="PreProc">&nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io = (obj); <a href="#L437" title="lobject.h:437">CClosure</a> *x_ = (x); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; <a href="#L115" title="lobject.h:115">val_</a>(io).gc = <a href="lstate.h.html#L208" title="lstate.h:208">obj2gco</a>(x_); <a href="#L188" title="lobject.h:188">settt_</a>(io, <a href="#L68" title="lobject.h:68">ctb</a>(<a href="#L51" title="lobject.h:51">LUA_TCCL</a>)); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; <a href="#L182" title="lobject.h:182">checkliveness</a>(<a href="lstate.h.html#L175" title="lstate.h:175">G</a>(L),io); }<br/></li>
<li></span><br/></li>
<li><a id="L236">&#x200c;</a><span class="PreProc">#define <span class="linkable">sethvalue</span>(L,obj,x) \<br/></li>
<li></span><span class="PreProc">&nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io = (obj); <a href="#L488" title="lobject.h:488">Table</a> *x_ = (x); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; <a href="#L115" title="lobject.h:115">val_</a>(io).gc = <a href="lstate.h.html#L208" title="lstate.h:208">obj2gco</a>(x_); <a href="#L188" title="lobject.h:188">settt_</a>(io, <a href="#L68" title="lobject.h:68">ctb</a>(<a href="lua.h.html#L67" title="lua.h:67">LUA_TTABLE</a>)); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; <a href="#L182" title="lobject.h:182">checkliveness</a>(<a href="lstate.h.html#L175" title="lstate.h:175">G</a>(L),io); }<br/></li>
<li></span><br/></li>
<li><a id="L241">&#x200c;</a><span class="PreProc">#define <span class="linkable">setdeadvalue</span>(obj)&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L188" title="lobject.h:188">settt_</a>(obj, <a href="#L23" title="lobject.h:23">LUA_TDEADKEY</a>)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L245">&#x200c;</a><span class="PreProc">#define <span class="linkable">setobj</span>(L,obj1,obj2) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io1=(obj1); *io1 = *(obj2); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (</span><span class="Type">void</span><span class="PreProc">)L; <a href="#L182" title="lobject.h:182">checkliveness</a>(<a href="lstate.h.html#L175" title="lstate.h:175">G</a>(L),io1); }<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** different types of assignments, according to destination<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* from stack to (same) stack */<br/></li>
<li><a id="L255">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">setobjs2s</span>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L245" title="lobject.h:245">setobj</a><br/></li>
<li></span><span class="Comment">/* to stack (not from same stack) */<br/></li>
<li><a id="L257">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">setobj2s</span>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L245" title="lobject.h:245">setobj</a><br/></li>
<li><a id="L258">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">setsvalue2s</span>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L211" title="lobject.h:211">setsvalue</a><br/></li>
<li><a id="L259">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">sethvalue2s</span>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L236" title="lobject.h:236">sethvalue</a><br/></li>
<li><a id="L260">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">setptvalue2s</span>&nbsp; &nbsp; &nbsp; &nbsp; setptvalue<br/></li>
<li></span><span class="Comment">/* from table to same table */<br/></li>
<li><a id="L262">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">setobjt2t</span>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L245" title="lobject.h:245">setobj</a><br/></li>
<li></span><span class="Comment">/* to table */<br/></li>
<li><a id="L264">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">setobj2t</span>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L245" title="lobject.h:245">setobj</a><br/></li>
<li></span><span class="Comment">/* to new object */<br/></li>
<li><a id="L266">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">setobj2n</span>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L245" title="lobject.h:245">setobj</a><br/></li>
<li><a id="L267">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">setsvalue2n</span>&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L211" title="lobject.h:211">setsvalue</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** {======================================================<br/></li>
<li></span><span class="Comment">** types and prototypes<br/></li>
<li></span><span class="Comment">** =======================================================<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L279">&#x200c;</a><span class="Type">union</span> <span class="linkable">Value</span> {<br/></li>
<li>&nbsp; <a href="#L87" title="lobject.h:87">GCObject</a> *gc;&nbsp; &nbsp; <span class="Comment">/* collectable objects */<br/></li>
<li></span>&nbsp; <span class="Type">void</span> *p;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">/* light userdata */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> b;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">/* booleans */<br/></li>
<li></span>&nbsp; <a href="lua.h.html#L103" title="lua.h:103">lua_CFunction</a> f; <span class="Comment">/* light C functions */<br/></li>
<li></span>&nbsp; <a href="lua.h.html#L91" title="lua.h:91">lua_Integer</a> i;&nbsp;&nbsp; <span class="Comment">/* integer numbers */<br/></li>
<li></span>&nbsp; <a href="lua.h.html#L87" title="lua.h:87">lua_Number</a> n;&nbsp; &nbsp; <span class="Comment">/* float numbers */<br/></li>
<li></span>};<br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L289">&#x200c;</a><span class="Type">struct</span> <span class="linkable">lua_TValue</span> {<br/></li>
<li>&nbsp; <a href="#L106" title="lobject.h:106">TValuefields</a>;<br/></li>
<li>};<br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L294">&#x200c;</a><span class="Type">typedef</span> <a href="#L108" title="lobject.h:108">TValue</a> *<span class="linkable">StkId</span>;&nbsp; <span class="Comment">/* index to stack elements */<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** <a href="lstrlib.c.html#L1002" title="lstrlib.c:1002">Header</a> for string value; string bytes follow the end of this structure<br/></li>
<li></span><span class="Comment">** (aligned according to '<a href="#L315" title="lobject.h:315">UTString</a>'; see <a href="llex.c.html#L31" title="llex.c:31">next</a>).<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L303">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">TString</span> {<br/></li>
<li>&nbsp; <a href="#L81" title="lobject.h:81">CommonHeader</a>;<br/></li>
<li>&nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> extra;&nbsp; <span class="Comment">/* reserved words for short strings; &quot;has hash&quot; for longs */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> <span class="Type">int</span> hash;<br/></li>
<li>&nbsp; <span class="Type">size_t</span> len;&nbsp; <span class="Comment">/* number of characters in string */<br/></li>
<li></span>&nbsp; <span class="Type">struct</span> <a href="#L303" title="lobject.h:303">TString</a> *hnext;&nbsp; <span class="Comment">/* linked list for hash table */<br/></li>
<li><a id="L309">&#x200c;</a></span>} <span class="linkable">TString</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Ensures that address after this type is always fully aligned.<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L315">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">union</span> <span class="linkable">UTString</span> {<br/></li>
<li>&nbsp; <a href="llimits.h.html#L65" title="llimits.h:65">L_Umaxalign</a> dummy;&nbsp; <span class="Comment">/* ensures maximum alignment for strings */<br/></li>
<li></span>&nbsp; <a href="#L303" title="lobject.h:303">TString</a> tsv;<br/></li>
<li><a id="L318">&#x200c;</a>} <span class="linkable">UTString</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Get the actual string (array of bytes) from a '<a href="#L303" title="lobject.h:303">TString</a>'.<br/></li>
<li></span><span class="Comment">** (Access to 'extra' ensures that value is really a '<a href="#L303" title="lobject.h:303">TString</a>'.)<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L325">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">getaddrstr</span>(ts)&nbsp; &nbsp; &nbsp; &nbsp; (<a href="llimits.h.html#L107" title="llimits.h:107">cast</a>(</span><span class="Type">char</span><span class="PreProc"> *, (ts)) + </span><span class="Statement">sizeof</span><span class="PreProc">(<a href="#L315" title="lobject.h:315">UTString</a>))<br/></li>
<li><a id="L326">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">getstr</span>(ts)&nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(</span><span class="Statement">sizeof</span><span class="PreProc">((ts)-&gt;extra), <a href="llimits.h.html#L107" title="llimits.h:107">cast</a>(</span><span class="Type">const</span><span class="PreProc"> </span><span class="Type">char</span><span class="PreProc">*, <a href="#L325" title="lobject.h:325">getaddrstr</a>(ts)))<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* get the actual string (array of bytes) from a Lua value */<br/></li>
<li><a id="L330">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">svalue</span>(o)&nbsp; &nbsp; &nbsp;&nbsp; <a href="#L326" title="lobject.h:326">getstr</a>(<a href="#L161" title="lobject.h:161">tsvalue</a>(o))<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** <a href="lstrlib.c.html#L1002" title="lstrlib.c:1002">Header</a> for userdata; memory area follows the end of this structure<br/></li>
<li></span><span class="Comment">** (aligned according to '<a href="#L349" title="lobject.h:349">UUdata</a>'; see <a href="llex.c.html#L31" title="llex.c:31">next</a>).<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L337">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">Udata</span> {<br/></li>
<li>&nbsp; <a href="#L81" title="lobject.h:81">CommonHeader</a>;<br/></li>
<li>&nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> ttuv_;&nbsp; <span class="Comment">/* user value's tag */<br/></li>
<li></span>&nbsp; <span class="Type">struct</span> <a href="#L488" title="lobject.h:488">Table</a> *metatable;<br/></li>
<li>&nbsp; <span class="Type">size_t</span> len;&nbsp; <span class="Comment">/* number of bytes */<br/></li>
<li></span>&nbsp; <span class="Type">union</span> <a href="#L96" title="lobject.h:96">Value</a> user_;&nbsp; <span class="Comment">/* user value */<br/></li>
<li><a id="L343">&#x200c;</a></span>} <span class="linkable">Udata</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Ensures that address after this type is always fully aligned.<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L349">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">union</span> <span class="linkable">UUdata</span> {<br/></li>
<li>&nbsp; <a href="llimits.h.html#L65" title="llimits.h:65">L_Umaxalign</a> dummy;&nbsp; <span class="Comment">/* ensures maximum alignment for 'local' udata */<br/></li>
<li></span>&nbsp; <a href="#L337" title="lobject.h:337">Udata</a> uv;<br/></li>
<li><a id="L352">&#x200c;</a>} <span class="linkable">UUdata</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">**&nbsp; Get the address of memory <a href="lparser.c.html#L1087" title="lparser.c:1087">block</a> inside '<a href="#L337" title="lobject.h:337">Udata</a>'.<br/></li>
<li></span><span class="Comment">** (Access to 'ttuv_' ensures that value is really a '<a href="#L337" title="lobject.h:337">Udata</a>'.)<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L359">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">getudatamem</span>(u)&nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; <a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>(</span><span class="Statement">sizeof</span><span class="PreProc">((u)-&gt;ttuv_), (<a href="llimits.h.html#L107" title="llimits.h:107">cast</a>(</span><span class="Type">char</span><span class="PreProc">*, (u)) + </span><span class="Statement">sizeof</span><span class="PreProc">(<a href="#L349" title="lobject.h:349">UUdata</a>)))<br/></li>
<li></span><br/></li>
<li><a id="L362">&#x200c;</a><span class="PreProc">#define <span class="linkable">setuservalue</span>(L,u,o) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; { </span><span class="Type">const</span><span class="PreProc"> <a href="#L108" title="lobject.h:108">TValue</a> *io=(o); <a href="#L337" title="lobject.h:337">Udata</a> *iu = (u); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; iu-&gt;user_ = io-&gt;value_; iu-&gt;ttuv_ = io-&gt;tt_; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L182" title="lobject.h:182">checkliveness</a>(<a href="lstate.h.html#L175" title="lstate.h:175">G</a>(L),io); }<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L368">&#x200c;</a><span class="PreProc">#define <span class="linkable">getuservalue</span>(L,u,o) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; { <a href="#L108" title="lobject.h:108">TValue</a> *io=(o); </span><span class="Type">const</span><span class="PreProc"> <a href="#L337" title="lobject.h:337">Udata</a> *iu = (u); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; io-&gt;value_ = iu-&gt;user_; io-&gt;tt_ = iu-&gt;ttuv_; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#L182" title="lobject.h:182">checkliveness</a>(<a href="lstate.h.html#L175" title="lstate.h:175">G</a>(L),io); }<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Description of an upvalue for function prototypes<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L377">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">Upvaldesc</span> {<br/></li>
<li>&nbsp; <a href="#L303" title="lobject.h:303">TString</a> *name;&nbsp; <span class="Comment">/* upvalue name (for debug information) */<br/></li>
<li></span>&nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> instack;&nbsp; <span class="Comment">/* whether it is in stack */<br/></li>
<li></span>&nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> idx;&nbsp; <span class="Comment">/* index of upvalue (in stack or in outer function's list) */<br/></li>
<li><a id="L381">&#x200c;</a></span>} <span class="linkable">Upvaldesc</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Description of a local variable for function prototypes<br/></li>
<li></span><span class="Comment">** (used for debug information)<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L388">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">LocVar</span> {<br/></li>
<li>&nbsp; <a href="#L303" title="lobject.h:303">TString</a> *varname;<br/></li>
<li>&nbsp; <span class="Type">int</span> startpc;&nbsp; <span class="Comment">/* first point where variable is active */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> endpc;&nbsp; &nbsp; <span class="Comment">/* first point where variable is dead */<br/></li>
<li><a id="L392">&#x200c;</a></span>} <span class="linkable">LocVar</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Function Prototypes<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L398">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">Proto</span> {<br/></li>
<li>&nbsp; <a href="#L81" title="lobject.h:81">CommonHeader</a>;<br/></li>
<li>&nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> numparams;&nbsp; <span class="Comment">/* number of fixed parameters */<br/></li>
<li></span>&nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> is_vararg;<br/></li>
<li>&nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> maxstacksize;&nbsp; <span class="Comment">/* maximum stack used by this function */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> sizeupvalues;&nbsp; <span class="Comment">/* size of 'upvalues' */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> sizek;&nbsp; <span class="Comment">/* size of 'k' */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> sizecode;<br/></li>
<li>&nbsp; <span class="Type">int</span> sizelineinfo;<br/></li>
<li>&nbsp; <span class="Type">int</span> sizep;&nbsp; <span class="Comment">/* size of 'p' */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> sizelocvars;<br/></li>
<li>&nbsp; <span class="Type">int</span> linedefined;<br/></li>
<li>&nbsp; <span class="Type">int</span> lastlinedefined;<br/></li>
<li>&nbsp; <a href="#L108" title="lobject.h:108">TValue</a> *k;&nbsp; <span class="Comment">/* constants used by the function */<br/></li>
<li></span>&nbsp; <a href="llimits.h.html#L164" title="llimits.h:164">Instruction</a> *code;<br/></li>
<li>&nbsp; <span class="Type">struct</span> <a href="#L398" title="lobject.h:398">Proto</a> **p;&nbsp; <span class="Comment">/* functions defined inside the function */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> *lineinfo;&nbsp; <span class="Comment">/* map from opcodes to source lines (debug information) */<br/></li>
<li></span>&nbsp; <a href="#L388" title="lobject.h:388">LocVar</a> *locvars;&nbsp; <span class="Comment">/* information about local variables (debug information) */<br/></li>
<li></span>&nbsp; <a href="#L377" title="lobject.h:377">Upvaldesc</a> *upvalues;&nbsp; <span class="Comment">/* upvalue information */<br/></li>
<li></span>&nbsp; <span class="Type">struct</span> <a href="#L444" title="lobject.h:444">LClosure</a> *cache;&nbsp; <span class="Comment">/* last created closure with this prototype */<br/></li>
<li></span>&nbsp; <a href="#L303" title="lobject.h:303">TString</a>&nbsp; *source;&nbsp; <span class="Comment">/* used for debug information */<br/></li>
<li></span>&nbsp; <a href="#L87" title="lobject.h:87">GCObject</a> *gclist;<br/></li>
<li><a id="L420">&#x200c;</a>} <span class="linkable">Proto</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Lua Upvalues<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L427">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">UpVal</span> <span class="linkable">UpVal</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Closures<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><a id="L434">&#x200c;</a><span class="PreProc">#define <span class="linkable">ClosureHeader</span> \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L81" title="lobject.h:81">CommonHeader</a>; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> nupvalues; <a href="#L87" title="lobject.h:87">GCObject</a> *gclist<br/></li>
<li></span><br/></li>
<li><a id="L437">&#x200c;</a><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">CClosure</span> {<br/></li>
<li>&nbsp; <a href="#L434" title="lobject.h:434">ClosureHeader</a>;<br/></li>
<li>&nbsp; <a href="lua.h.html#L103" title="lua.h:103">lua_CFunction</a> f;<br/></li>
<li>&nbsp; <a href="#L108" title="lobject.h:108">TValue</a> upvalue[<span class="Constant">1</span>];&nbsp; <span class="Comment">/* list of upvalues */<br/></li>
<li><a id="L441">&#x200c;</a></span>} <span class="linkable">CClosure</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L444">&#x200c;</a><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">LClosure</span> {<br/></li>
<li>&nbsp; <a href="#L434" title="lobject.h:434">ClosureHeader</a>;<br/></li>
<li>&nbsp; <span class="Type">struct</span> <a href="#L398" title="lobject.h:398">Proto</a> *p;<br/></li>
<li>&nbsp; <a href="lfunc.h.html#L28" title="lfunc.h:28">UpVal</a> *upvals[<span class="Constant">1</span>];&nbsp; <span class="Comment">/* list of upvalues */<br/></li>
<li><a id="L448">&#x200c;</a></span>} <span class="linkable">LClosure</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L451">&#x200c;</a><span class="Type">typedef</span> <span class="Type">union</span> <span class="linkable">Closure</span> {<br/></li>
<li>&nbsp; <a href="#L437" title="lobject.h:437">CClosure</a> c;<br/></li>
<li>&nbsp; <a href="#L444" title="lobject.h:444">LClosure</a> l;<br/></li>
<li><a id="L454">&#x200c;</a>} <span class="linkable">Closure</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L457">&#x200c;</a><span class="PreProc">#define <span class="linkable">isLfunction</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L147" title="lobject.h:147">ttisLclosure</a>(o)<br/></li>
<li></span><br/></li>
<li><a id="L459">&#x200c;</a><span class="PreProc">#define <span class="linkable">getproto</span>(o)&nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L164" title="lobject.h:164">clLvalue</a>(o)-&gt;p)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Tables<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><a id="L466">&#x200c;</a><span class="Type">typedef</span> <span class="Type">union</span> <span class="linkable">TKey</span> {<br/></li>
<li>&nbsp; <span class="Type">struct</span> {<br/></li>
<li>&nbsp; &nbsp; <a href="#L106" title="lobject.h:106">TValuefields</a>;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">int</span> <a href="llex.c.html#L31" title="llex.c:31">next</a>;&nbsp; <span class="Comment">/* for chaining (offset for <a href="llex.c.html#L31" title="llex.c:31">next</a> node) */<br/></li>
<li></span>&nbsp; } nk;<br/></li>
<li>&nbsp; <a href="#L108" title="lobject.h:108">TValue</a> tvk;<br/></li>
<li><a id="L472">&#x200c;</a>} <span class="linkable">TKey</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/* copy a value into a key without messing up <a href="lparser.c.html#L696" title="lparser.c:696">field</a> '<a href="llex.c.html#L31" title="llex.c:31">next</a>' */<br/></li>
<li><a id="L476">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">setnodekey</span>(L,key,obj) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; { <a href="#L466" title="lobject.h:466">TKey</a> *k_=(key); </span><span class="Type">const</span><span class="PreProc"> <a href="#L108" title="lobject.h:108">TValue</a> *io_=(obj); \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; k_-&gt;nk.value_ = io_-&gt;value_; k_-&gt;nk.tt_ = io_-&gt;tt_; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (</span><span class="Type">void</span><span class="PreProc">)L; <a href="#L182" title="lobject.h:182">checkliveness</a>(<a href="lstate.h.html#L175" title="lstate.h:175">G</a>(L),io_); }<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L482">&#x200c;</a><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">Node</span> {<br/></li>
<li>&nbsp; <a href="#L108" title="lobject.h:108">TValue</a> i_val;<br/></li>
<li>&nbsp; <a href="#L466" title="lobject.h:466">TKey</a> i_key;<br/></li>
<li><a id="L485">&#x200c;</a>} <span class="linkable">Node</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L488">&#x200c;</a><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">Table</span> {<br/></li>
<li>&nbsp; <a href="#L81" title="lobject.h:81">CommonHeader</a>;<br/></li>
<li>&nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> flags;&nbsp; <span class="Comment">/* 1&lt;&lt;p means tagmethod(p) is not present */<br/></li>
<li></span>&nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> lsizenode;&nbsp; <span class="Comment">/* log2 of size of 'node' array */<br/></li>
<li></span>&nbsp; <span class="Type">unsigned</span> <span class="Type">int</span> sizearray;&nbsp; <span class="Comment">/* size of 'array' array */<br/></li>
<li></span>&nbsp; <a href="#L108" title="lobject.h:108">TValue</a> *array;&nbsp; <span class="Comment">/* array part */<br/></li>
<li></span>&nbsp; <a href="#L482" title="lobject.h:482">Node</a> *node;<br/></li>
<li>&nbsp; <a href="#L482" title="lobject.h:482">Node</a> *lastfree;&nbsp; <span class="Comment">/* any free position is before this position */<br/></li>
<li></span>&nbsp; <span class="Type">struct</span> <a href="#L488" title="lobject.h:488">Table</a> *metatable;<br/></li>
<li>&nbsp; <a href="#L87" title="lobject.h:87">GCObject</a> *gclist;<br/></li>
<li><a id="L498">&#x200c;</a>} <span class="linkable">Table</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** 'module' operation for hashing (size is always a power of 2)<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L505">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">lmod</span>(s,size) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; (<a href="llimits.h.html#L79" title="llimits.h:79">check_exp</a>((size&amp;(size-</span><span class="Constant">1</span><span class="PreProc">))==</span><span class="Constant">0</span><span class="PreProc">, (<a href="llimits.h.html#L107" title="llimits.h:107">cast</a>(</span><span class="Type">int</span><span class="PreProc">, (s) &amp; ((size)-</span><span class="Constant">1</span><span class="PreProc">)))))<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L509">&#x200c;</a><span class="PreProc">#define <span class="linkable">twoto</span>(x)&nbsp; &nbsp; &nbsp; &nbsp; (</span><span class="Constant">1</span><span class="PreProc">&lt;&lt;(x))<br/></li>
<li><a id="L510">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">sizenode</span>(t)&nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L509" title="lobject.h:509">twoto</a>((t)-&gt;lsizenode))<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** (address of) a fixed nil value<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L516">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">luaO_nilobject</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (&amp;<a href="#L519" title="lobject.h:519">luaO_nilobject_</a>)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L519">&#x200c;</a><a href="luaconf.h.html#L260" title="luaconf.h:260">LUAI_DDEC</a> <span class="Type">const</span> <a href="#L108" title="lobject.h:108">TValue</a> <span class="linkable">luaO_nilobject_</span>;<br/></li>
<li><br/></li>
<li><span class="Comment">/* size of buffer for '<a href="lobject.c.html#L297" title="lobject.c:297">luaO_utf8esc</a>' function */<br/></li>
<li><a id="L522">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">UTF8BUFFSZ</span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">8<br/></li>
<li></span><br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lobject.c.html#L39" title="lobject.c:39">luaO_int2fb</a> (<span class="Type">unsigned</span> <span class="Type">int</span> x);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lobject.c.html#L51" title="lobject.c:51">luaO_fb2int</a> (<span class="Type">int</span> x);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lobject.c.html#L297" title="lobject.c:297">luaO_utf8esc</a> (<span class="Type">char</span> *buff, <span class="Type">unsigned</span> <span class="Type">long</span> x);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lobject.c.html#L58" title="lobject.c:58">luaO_ceillog2</a> (<span class="Type">unsigned</span> <span class="Type">int</span> x);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lobject.c.html#L116" title="lobject.c:116">luaO_arith</a> (<a href="lstate.h.html#L149" title="lstate.h:149">lua_State</a> *L, <span class="Type">int</span> op, <span class="Type">const</span> <a href="#L108" title="lobject.h:108">TValue</a> *p1,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Type">const</span> <a href="#L108" title="lobject.h:108">TValue</a> *p2, <a href="#L108" title="lobject.h:108">TValue</a> *res);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">size_t</span> <a href="lobject.c.html#L282" title="lobject.c:282">luaO_str2num</a> (<span class="Type">const</span> <span class="Type">char</span> *s, <a href="#L108" title="lobject.h:108">TValue</a> *o);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lobject.c.html#L156" title="lobject.c:156">luaO_hexavalue</a> (<span class="Type">int</span> c);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lobject.c.html#L322" title="lobject.c:322">luaO_tostring</a> (<a href="lstate.h.html#L149" title="lstate.h:149">lua_State</a> *L, <a href="#L294" title="lobject.h:294">StkId</a> obj);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">const</span> <span class="Type">char</span> *<a href="lobject.c.html#L348" title="lobject.c:348">luaO_pushvfstring</a> (<a href="lstate.h.html#L149" title="lstate.h:149">lua_State</a> *L, <span class="Type">const</span> <span class="Type">char</span> *fmt,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Type">va_list</span> argp);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">const</span> <span class="Type">char</span> *<a href="lobject.c.html#L416" title="lobject.c:416">luaO_pushfstring</a> (<a href="lstate.h.html#L149" title="lstate.h:149">lua_State</a> *L, <span class="Type">const</span> <span class="Type">char</span> *fmt, ...);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lobject.c.html#L435" title="lobject.c:435">luaO_chunkid</a> (<span class="Type">char</span> *out, <span class="Type">const</span> <span class="Type">char</span> *source, <span class="Type">size_t</span> len);<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
</ol></code>
 </body>
</html>
