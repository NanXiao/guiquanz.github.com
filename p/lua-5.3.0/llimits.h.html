<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>llimits.h - src</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

code {
    font-family: consolas, monospace;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
  <h3>llimits.h - src</h3>
   <a href="../index.html"> Table of Contents </a>
 <h4>Data types defined</h4>
 <ul>
<li><a href="#L164">Instruction</a></li>
<li><a href="#L166">Instruction</a></li>
<li><a href="#L65">L_Umaxalign</a></li>
<li><a href="#L67">L_Umaxalign</a></li>
<li><a href="#L24">l_mem</a></li>
<li><a href="#L27">l_mem</a></li>
<li><a href="#L30">l_mem</a></li>
<li><a href="#L74">l_uacInt</a></li>
<li><a href="#L73">l_uacNumber</a></li>
<li><a href="#L35">lu_byte</a></li>
<li><a href="#L23">lu_mem</a></li>
<li><a href="#L26">lu_mem</a></li>
<li><a href="#L29">lu_mem</a></li>
</ul>
 <h4>Macros defined</h4>
 <ul>
<li><a href="#L149">LUAI_MAXCCALLS</a></li>
<li><a href="#L180">LUA_MINBUFFER</a></li>
<li><a href="#L156">MAXUPVAL</a></li>
<li><a href="#L51">MAX_INT</a></li>
<li><a href="#L48">MAX_LMEM</a></li>
<li><a href="#L46">MAX_LUMEM</a></li>
<li><a href="#L42">MAX_SIZE</a></li>
<li><a href="#L39">MAX_SIZET</a></li>
<li><a href="#L174">MINSTRTABSIZE</a></li>
<li><a href="#L103">UNUSED</a></li>
<li><a href="#L99">api_check</a></li>
<li><a href="#L107">cast</a></li>
<li><a href="#L110">cast_byte</a></li>
<li><a href="#L112">cast_int</a></li>
<li><a href="#L111">cast_num</a></li>
<li><a href="#L113">cast_uchar</a></li>
<li><a href="#L109">cast_void</a></li>
<li><a href="#L79">check_exp</a></li>
<li><a href="#L84">check_exp</a></li>
<li><a href="#L236">condchangemem</a></li>
<li><a href="#L238">condchangemem</a></li>
<li><a href="#L229">condmovestack</a></li>
<li><a href="#L232">condmovestack</a></li>
<li><a href="#L118">l_castS2U</a></li>
<li><a href="#L127">l_castU2S</a></li>
<li><a href="#L135">l_noret</a></li>
<li><a href="#L137">l_noret</a></li>
<li><a href="#L139">l_noret</a></li>
<li><a href="#L8">llimits_h</a></li>
<li><a href="#L83">lua_assert</a></li>
<li><a href="#L185">lua_lock</a></li>
<li><a href="#L81">lua_longassert</a></li>
<li><a href="#L85">lua_longassert</a></li>
<li><a href="#L186">lua_unlock</a></li>
<li><a href="#L93">luai_apicheck</a></li>
<li><a href="#L95">luai_apicheck</a></li>
<li><a href="#L190">luai_threadyield</a></li>
<li><a href="#L204">luai_userstateclose</a></li>
<li><a href="#L212">luai_userstatefree</a></li>
<li><a href="#L200">luai_userstateopen</a></li>
<li><a href="#L216">luai_userstateresume</a></li>
<li><a href="#L208">luai_userstatethread</a></li>
<li><a href="#L220">luai_userstateyield</a></li>
<li><a href="#L59">point2int</a></li>
</ul>
 <h4>Source code</h4>

  <code><ol><li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** $Id: llimits.h,v 1.125 2014/12/19 13:30:23 roberto Exp $<br/></li>
<li></span><span class="Comment">** Limits, basic types, and some other 'installation-dependent' definitions<br/></li>
<li></span><span class="Comment">** See Copyright Notice in lua.h<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L8" title="llimits.h:8">llimits_h</a><br/></li>
<li><a id="L8">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">llimits_h</span><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&lt;limits.h&gt;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&lt;stddef.h&gt;<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&quot;lua.h&quot;<br/></li>
<li></span><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** '<a href="#L23" title="llimits.h:23">lu_mem</a>' and '<a href="#L24" title="llimits.h:24">l_mem</a>' are unsigned/signed integers big enough to count<br/></li>
<li></span><span class="Comment">** the total memory used by Lua (in bytes). Usually, 'size_t' and<br/></li>
<li></span><span class="Comment">** 'ptrdiff_t' should work, but we use 'long' for 16-bit machines.<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><span class="PreProc">#if defined(LUAI_MEM)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* { external definitions? */<br/></li>
<li><a id="L23">&#x200c;</a></span><span class="Type">typedef</span> LUAI_UMEM <span class="linkable">lu_mem</span>;<br/></li>
<li><a id="L24">&#x200c;</a><span class="Type">typedef</span> LUAI_MEM <span class="linkable">l_mem</span>;<br/></li>
<li><span class="PreProc">#elif <a href="luaconf.h.html#L91" title="luaconf.h:91">LUAI_BITSINT</a> &gt;= </span><span class="Constant">32</span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* }{ */<br/></li>
<li><a id="L26">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">size_t</span> <span class="linkable">lu_mem</span>;<br/></li>
<li><a id="L27">&#x200c;</a><span class="Type">typedef</span> <span class="Type">ptrdiff_t</span> <span class="linkable">l_mem</span>;<br/></li>
<li><span class="PreProc">#else</span>&nbsp; <span class="Comment">/* 16-bit ints */</span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* }{ */<br/></li>
<li><a id="L29">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">unsigned</span> <span class="Type">long</span> <span class="linkable">lu_mem</span>;<br/></li>
<li><a id="L30">&#x200c;</a><span class="Type">typedef</span> <span class="Type">long</span> <span class="linkable">l_mem</span>;<br/></li>
<li><span class="PreProc">#endif</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* } */<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* chars used as small naturals (so that 'char' is reserved for characters) */<br/></li>
<li><a id="L35">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">unsigned</span> <span class="Type">char</span> <span class="linkable">lu_byte</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/* maximum value for size_t */<br/></li>
<li><a id="L39">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">MAX_SIZET</span>&nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">size_t</span><span class="PreProc">)(~(</span><span class="Type">size_t</span><span class="PreProc">)</span><span class="Constant">0</span><span class="PreProc">))<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* maximum size visible for Lua (must be representable in a <a href="lua.h.html#L91" title="lua.h:91">lua_Integer</a> */<br/></li>
<li><a id="L42">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">MAX_SIZE</span>&nbsp; &nbsp; &nbsp; &nbsp; (</span><span class="Statement">sizeof</span><span class="PreProc">(</span><span class="Type">size_t</span><span class="PreProc">) &lt; </span><span class="Statement">sizeof</span><span class="PreProc">(<a href="lua.h.html#L91" title="lua.h:91">lua_Integer</a>) ? <a href="#L39" title="llimits.h:39">MAX_SIZET</a> \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : (</span><span class="Type">size_t</span><span class="PreProc">)(<a href="luaconf.h.html#L546" title="luaconf.h:546">LUA_MAXINTEGER</a>))<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L46">&#x200c;</a><span class="PreProc">#define <span class="linkable">MAX_LUMEM</span>&nbsp; &nbsp; &nbsp; &nbsp; ((<a href="#L23" title="llimits.h:23">lu_mem</a>)(~(<a href="#L23" title="llimits.h:23">lu_mem</a>)</span><span class="Constant">0</span><span class="PreProc">))<br/></li>
<li></span><br/></li>
<li><a id="L48">&#x200c;</a><span class="PreProc">#define <span class="linkable">MAX_LMEM</span>&nbsp; &nbsp; &nbsp; &nbsp; ((<a href="#L24" title="llimits.h:24">l_mem</a>)(<a href="#L46" title="llimits.h:46">MAX_LUMEM</a> &gt;&gt; </span><span class="Constant">1</span><span class="PreProc">))<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L51">&#x200c;</a><span class="PreProc">#define <span class="linkable">MAX_INT</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">INT_MAX</span><span class="PreProc">&nbsp; </span><span class="Comment">/* maximum value of an int */<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** conversion of pointer to integer:<br/></li>
<li></span><span class="Comment">** this is for hashing only; there is no problem if the integer<br/></li>
<li></span><span class="Comment">** <a href="luac.c.html#L44" title="luac.c:44">cannot</a> hold the whole pointer value<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L59">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">point2int</span>(p)&nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">unsigned</span><span class="PreProc"> </span><span class="Type">int</span><span class="PreProc">)((</span><span class="Type">size_t</span><span class="PreProc">)(p) &amp; </span><span class="Constant">UINT_MAX</span><span class="PreProc">))<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/* type to ensure maximum alignment */<br/></li>
<li></span><span class="PreProc">#if defined(LUAI_USER_ALIGNMENT_T)<br/></li>
<li><a id="L65">&#x200c;</a></span><span class="Type">typedef</span> LUAI_USER_ALIGNMENT_T <span class="linkable">L_Umaxalign</span>;<br/></li>
<li><span class="PreProc">#else<br/></li>
<li><a id="L67">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">union</span> { <span class="Type">double</span> u; <span class="Type">void</span> *s; <a href="lua.h.html#L91" title="lua.h:91">lua_Integer</a> i; <span class="Type">long</span> l; } <span class="linkable">L_Umaxalign</span>;<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/* types of 'usual argument conversions' for <a href="lua.h.html#L87" title="lua.h:87">lua_Number</a> and <a href="lua.h.html#L91" title="lua.h:91">lua_Integer</a> */<br/></li>
<li><a id="L73">&#x200c;</a></span><span class="Type">typedef</span> <a href="luaconf.h.html#L407" title="luaconf.h:407">LUAI_UACNUMBER</a> <span class="linkable">l_uacNumber</span>;<br/></li>
<li><a id="L74">&#x200c;</a><span class="Type">typedef</span> <a href="luaconf.h.html#L530" title="luaconf.h:530">LUAI_UACINT</a> <span class="linkable">l_uacInt</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/* internal assertions for in-house debugging */<br/></li>
<li></span><span class="PreProc">#if defined(<a href="lualib.h.html#L54" title="lualib.h:54">lua_assert</a>)<br/></li>
<li><a id="L79">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">check_exp</span>(c,e)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="lualib.h.html#L54" title="lualib.h:54">lua_assert</a>(c), (e))<br/></li>
<li></span><span class="Comment">/* to avoid problems with conditions too long */<br/></li>
<li><a id="L81">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">lua_longassert</span>(c)&nbsp; &nbsp; &nbsp; &nbsp; { </span><span class="Statement">if</span><span class="PreProc"> (!(c)) <a href="lualib.h.html#L54" title="lualib.h:54">lua_assert</a>(</span><span class="Constant">0</span><span class="PreProc">); }<br/></li>
<li></span><span class="PreProc">#else<br/></li>
<li><a id="L83">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">lua_assert</span>(c)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">void</span><span class="PreProc">)</span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li><a id="L84">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">check_exp</span>(c,e)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (e)<br/></li>
<li><a id="L85">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">lua_longassert</span>(c)&nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">void</span><span class="PreProc">)</span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** assertion for checking API calls<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><span class="PreProc">#if defined(LUA_USE_APICHECK)<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&lt;assert.h&gt;<br/></li>
<li><a id="L93">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">luai_apicheck</span>(e)&nbsp; &nbsp; &nbsp; &nbsp; assert(e)<br/></li>
<li></span><span class="PreProc">#else<br/></li>
<li><a id="L95">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">luai_apicheck</span>(e)&nbsp; &nbsp; &nbsp; &nbsp; <a href="lualib.h.html#L54" title="lualib.h:54">lua_assert</a>(e)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L99">&#x200c;</a><span class="PreProc">#define <span class="linkable">api_check</span>(e,msg)&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L93" title="llimits.h:93">luai_apicheck</a>((e) &amp;&amp; msg)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="PreProc">#if !defined(<a href="#L103" title="llimits.h:103">UNUSED</a>)<br/></li>
<li><a id="L103">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">UNUSED</span>(x)&nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">void</span><span class="PreProc">)(x))&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* to avoid warnings */<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L107">&#x200c;</a><span class="PreProc">#define <span class="linkable">cast</span>(t, exp)&nbsp; &nbsp; &nbsp; &nbsp; ((t)(exp))<br/></li>
<li></span><br/></li>
<li><a id="L109">&#x200c;</a><span class="PreProc">#define <span class="linkable">cast_void</span>(i)&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L107" title="llimits.h:107">cast</a>(</span><span class="Type">void</span><span class="PreProc">, (i))<br/></li>
<li><a id="L110">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">cast_byte</span>(i)&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L107" title="llimits.h:107">cast</a>(<a href="#L35" title="llimits.h:35">lu_byte</a>, (i))<br/></li>
<li><a id="L111">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">cast_num</span>(i)&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L107" title="llimits.h:107">cast</a>(<a href="lua.h.html#L87" title="lua.h:87">lua_Number</a>, (i))<br/></li>
<li><a id="L112">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">cast_int</span>(i)&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L107" title="llimits.h:107">cast</a>(</span><span class="Type">int</span><span class="PreProc">, (i))<br/></li>
<li><a id="L113">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">cast_uchar</span>(i)&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L107" title="llimits.h:107">cast</a>(</span><span class="Type">unsigned</span><span class="PreProc"> </span><span class="Type">char</span><span class="PreProc">, (i))<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* <a href="#L107" title="llimits.h:107">cast</a> a signed <a href="lua.h.html#L91" title="lua.h:91">lua_Integer</a> to <a href="lua.h.html#L94" title="lua.h:94">lua_Unsigned</a> */<br/></li>
<li></span><span class="PreProc">#if !defined(<a href="#L118" title="llimits.h:118">l_castS2U</a>)<br/></li>
<li><a id="L118">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">l_castS2U</span>(i)&nbsp; &nbsp; &nbsp; &nbsp; ((<a href="lua.h.html#L94" title="lua.h:94">lua_Unsigned</a>)(i))<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** <a href="#L107" title="llimits.h:107">cast</a> a <a href="lua.h.html#L94" title="lua.h:94">lua_Unsigned</a> to a signed <a href="lua.h.html#L91" title="lua.h:91">lua_Integer</a>; this <a href="#L107" title="llimits.h:107">cast</a> is<br/></li>
<li></span><span class="Comment">** not strict ISO C, but two-complement architectures should<br/></li>
<li></span><span class="Comment">** work fine.<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><span class="PreProc">#if !defined(<a href="#L127" title="llimits.h:127">l_castU2S</a>)<br/></li>
<li><a id="L127">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">l_castU2S</span>(i)&nbsp; &nbsp; &nbsp; &nbsp; ((<a href="lua.h.html#L91" title="lua.h:91">lua_Integer</a>)(i))<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** non-return type<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><span class="PreProc">#if defined(__GNUC__)<br/></li>
<li><a id="L135">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">l_noret</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Type">void</span><span class="PreProc"> __attribute__((noreturn))<br/></li>
<li></span><span class="PreProc">#elif defined(_MSC_VER) &amp;&amp; _MSC_VER &gt;= </span><span class="Constant">1200<br/></li>
<li><a id="L137">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">l_noret</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Type">void</span><span class="PreProc"> __declspec(noreturn)<br/></li>
<li></span><span class="PreProc">#else<br/></li>
<li><a id="L139">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">l_noret</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Type">void<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** maximum depth for nested C calls and syntactical nested non-terminals<br/></li>
<li></span><span class="Comment">** in a program. (<a href="lobject.h.html#L96" title="lobject.h:96">Value</a> must fit in an unsigned short int.)<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><span class="PreProc">#if !defined(<a href="#L149" title="llimits.h:149">LUAI_MAXCCALLS</a>)<br/></li>
<li><a id="L149">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">LUAI_MAXCCALLS</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">200<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** maximum number of upvalues in a closure (both C and Lua). (<a href="lobject.h.html#L96" title="lobject.h:96">Value</a><br/></li>
<li></span><span class="Comment">** must fit in an unsigned char.)<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L156">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">MAXUPVAL</span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">UCHAR_MAX<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** type for virtual-machine instructions;<br/></li>
<li></span><span class="Comment">** must be an unsigned with (at least) 4 bytes (see details in lopcodes.h)<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><span class="PreProc">#if <a href="luaconf.h.html#L91" title="luaconf.h:91">LUAI_BITSINT</a> &gt;= </span><span class="Constant">32<br/></li>
<li><a id="L164">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">unsigned</span> <span class="Type">int</span> <span class="linkable">Instruction</span>;<br/></li>
<li><span class="PreProc">#else<br/></li>
<li><a id="L166">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">unsigned</span> <span class="Type">long</span> <span class="linkable">Instruction</span>;<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/* minimum size for the string table (must be power of 2) */<br/></li>
<li></span><span class="PreProc">#if !defined(<a href="#L174" title="llimits.h:174">MINSTRTABSIZE</a>)<br/></li>
<li><a id="L174">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">MINSTRTABSIZE</span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">64</span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* minimum size for &quot;predefined&quot; strings */<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* minimum size for string buffer */<br/></li>
<li></span><span class="PreProc">#if !defined(<a href="#L180" title="llimits.h:180">LUA_MINBUFFER</a>)<br/></li>
<li><a id="L180">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">LUA_MINBUFFER</span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">32<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="PreProc">#if !defined(<a href="#L185" title="llimits.h:185">lua_lock</a>)<br/></li>
<li><a id="L185">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">lua_lock</span>(L)&nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">void</span><span class="PreProc">) </span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li><a id="L186">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">lua_unlock</span>(L)&nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">void</span><span class="PreProc">) </span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#if !defined(<a href="#L190" title="llimits.h:190">luai_threadyield</a>)<br/></li>
<li><a id="L190">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">luai_threadyield</span>(L)&nbsp; &nbsp; &nbsp; &nbsp; {<a href="#L186" title="llimits.h:186">lua_unlock</a>(L); <a href="#L185" title="llimits.h:185">lua_lock</a>(L);}<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** these macros allow user-specific actions on threads when you defined<br/></li>
<li></span><span class="Comment">** LUAI_EXTRASPACE and need to do something extra when a thread is<br/></li>
<li></span><span class="Comment">** created/deleted/resumed/yielded.<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><span class="PreProc">#if !defined(<a href="#L200" title="llimits.h:200">luai_userstateopen</a>)<br/></li>
<li><a id="L200">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">luai_userstateopen</span>(L)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">void</span><span class="PreProc">)L)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#if !defined(<a href="#L204" title="llimits.h:204">luai_userstateclose</a>)<br/></li>
<li><a id="L204">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">luai_userstateclose</span>(L)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">void</span><span class="PreProc">)L)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#if !defined(<a href="#L208" title="llimits.h:208">luai_userstatethread</a>)<br/></li>
<li><a id="L208">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">luai_userstatethread</span>(L,L1)&nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">void</span><span class="PreProc">)L)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#if !defined(<a href="#L212" title="llimits.h:212">luai_userstatefree</a>)<br/></li>
<li><a id="L212">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">luai_userstatefree</span>(L,L1)&nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">void</span><span class="PreProc">)L)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#if !defined(<a href="#L216" title="llimits.h:216">luai_userstateresume</a>)<br/></li>
<li><a id="L216">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">luai_userstateresume</span>(L,n)&nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">void</span><span class="PreProc">)L)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#if !defined(<a href="#L220" title="llimits.h:220">luai_userstateyield</a>)<br/></li>
<li><a id="L220">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">luai_userstateyield</span>(L,n)&nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">void</span><span class="PreProc">)L)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** macro to control inclusion of some hard tests on stack reallocation<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><span class="PreProc">#if !defined(HARDSTACKTESTS)<br/></li>
<li><a id="L229">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">condmovestack</span>(L)&nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">void</span><span class="PreProc">)</span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li></span><span class="PreProc">#else<br/></li>
<li></span><span class="Comment">/* realloc stack keeping its size */<br/></li>
<li><a id="L232">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">condmovestack</span>(L)&nbsp; &nbsp; &nbsp; &nbsp; <a href="ldo.c.html#L172" title="ldo.c:172">luaD_reallocstack</a>((L), (L)-&gt;stacksize)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#if !defined(HARDMEMTESTS)<br/></li>
<li><a id="L236">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">condchangemem</span>(L)&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L229" title="llimits.h:229">condmovestack</a>(L)<br/></li>
<li></span><span class="PreProc">#else<br/></li>
<li><a id="L238">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">condchangemem</span>(L)&nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; ((</span><span class="Type">void</span><span class="PreProc">)(!(<a href="lstate.h.html#L175" title="lstate.h:175">G</a>(L)-&gt;gcrunning) || (<a href="lgc.c.html#L1139" title="lgc.c:1139">luaC_fullgc</a>(L, </span><span class="Constant">0</span><span class="PreProc">), </span><span class="Constant">1</span><span class="PreProc">)))<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#endif<br/></li>
</ol></span></code>
 </body>
</html>
