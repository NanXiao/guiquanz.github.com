<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>lcode.h - src</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

code {
    font-family: consolas, monospace;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
  <h3>lcode.h - src</h3>
   <a href="../index.html"> Table of Contents </a>
 <h4>Data types defined</h4>
 <ul>
<li><a href="#L26">BinOpr</a></li>
<li><a href="#L37">BinOpr</a></li>
<li><a href="#L40">UnOpr</a></li>
<li><a href="#L40">UnOpr</a></li>
</ul>
 <h4>Macros defined</h4>
 <ul>
<li><a href="#L20">NO_JUMP</a></li>
<li><a href="#L43">getcode</a></li>
<li><a href="#L8">lcode_h</a></li>
<li><a href="#L45">luaK_codeAsBx</a></li>
<li><a href="#L49">luaK_jumpto</a></li>
<li><a href="#L47">luaK_setmultret</a></li>
</ul>
 <h4>Source code</h4>

  <code><ol><li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** $Id: lcode.h,v 1.63 2013/12/30 20:47:58 roberto Exp $<br/></li>
<li></span><span class="Comment">** Code generator for Lua<br/></li>
<li></span><span class="Comment">** See Copyright Notice in lua.h<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L8" title="lcode.h:8">lcode_h</a><br/></li>
<li><a id="L8">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">lcode_h</span><br/></li>
<li></span><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&quot;<a href="llex.c.html#L467" title="llex.c:467">llex</a>.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;lobject.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;lopcodes.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;lparser.h&quot;<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Marks the end of a patch list. It is an invalid value both as an absolute<br/></li>
<li></span><span class="Comment">** address, and as a list link (would link an element to itself).<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L20">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">NO_JUMP</span> (-</span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** grep &quot;ORDER OPR&quot; if you change these enums&nbsp; (ORDER OP)<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L26">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">enum</span> <span class="linkable">BinOpr</span> {<br/></li>
<li>&nbsp; OPR_ADD, OPR_SUB, OPR_MUL, OPR_MOD, OPR_POW,<br/></li>
<li>&nbsp; OPR_DIV,<br/></li>
<li>&nbsp; OPR_IDIV,<br/></li>
<li>&nbsp; OPR_BAND, OPR_BOR, OPR_BXOR,<br/></li>
<li>&nbsp; OPR_SHL, OPR_SHR,<br/></li>
<li>&nbsp; OPR_CONCAT,<br/></li>
<li>&nbsp; OPR_EQ, OPR_LT, OPR_LE,<br/></li>
<li>&nbsp; OPR_NE, OPR_GT, OPR_GE,<br/></li>
<li>&nbsp; OPR_AND, OPR_OR,<br/></li>
<li>&nbsp; OPR_NOBINOPR<br/></li>
<li><a id="L37">&#x200c;</a>} <span class="linkable">BinOpr</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L40">&#x200c;</a><a id="L40">&#x200c;</a><span class="Type">typedef</span> <span class="Type">enum</span> <span class="linkable">UnOpr</span> { OPR_MINUS, OPR_BNOT, OPR_NOT, OPR_LEN, OPR_NOUNOPR } <span class="linkable">UnOpr</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L43">&#x200c;</a><span class="PreProc">#define <span class="linkable">getcode</span>(fs,e)&nbsp; &nbsp; &nbsp; &nbsp; ((fs)-&gt;f-&gt;code[(e)-&gt;u.info])<br/></li>
<li></span><br/></li>
<li><a id="L45">&#x200c;</a><span class="PreProc">#define <span class="linkable">luaK_codeAsBx</span>(fs,o,A,sBx)&nbsp; &nbsp; &nbsp; &nbsp; <a href="lcode.c.html#L253" title="lcode.c:253">luaK_codeABx</a>(fs,o,A,(sBx)+<a href="lopcodes.h.html#L61" title="lopcodes.h:61">MAXARG_sBx</a>)<br/></li>
<li></span><br/></li>
<li><a id="L47">&#x200c;</a><span class="PreProc">#define <span class="linkable">luaK_setmultret</span>(fs,e)&nbsp; &nbsp; &nbsp; &nbsp; <a href="lcode.c.html#L382" title="lcode.c:382">luaK_setreturns</a>(fs, e, <a href="lua.h.html#L34" title="lua.h:34">LUA_MULTRET</a>)<br/></li>
<li></span><br/></li>
<li><a id="L49">&#x200c;</a><span class="PreProc">#define <span class="linkable">luaK_jumpto</span>(fs,t)&nbsp; &nbsp; &nbsp; &nbsp; <a href="lcode.c.html#L186" title="lcode.c:186">luaK_patchlist</a>(fs, <a href="lcode.c.html#L76" title="lcode.c:76">luaK_jump</a>(fs), t)<br/></li>
<li></span><br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lcode.c.html#L253" title="lcode.c:253">luaK_codeABx</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lopcodes.h.html#L232" title="lopcodes.h:232">OpCode</a> o, <span class="Type">int</span> A, <span class="Type">unsigned</span> <span class="Type">int</span> Bx);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lcode.c.html#L244" title="lcode.c:244">luaK_codeABC</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lopcodes.h.html#L232" title="lopcodes.h:232">OpCode</a> o, <span class="Type">int</span> A, <span class="Type">int</span> B, <span class="Type">int</span> C);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lcode.c.html#L267" title="lcode.c:267">luaK_codek</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <span class="Type">int</span> reg, <span class="Type">int</span> k);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L935" title="lcode.c:935">luaK_fixline</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <span class="Type">int</span> line);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L54" title="lcode.c:54">luaK_nil</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <span class="Type">int</span> from, <span class="Type">int</span> n);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L288" title="lcode.c:288">luaK_reserveregs</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <span class="Type">int</span> n);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L278" title="lcode.c:278">luaK_checkstack</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <span class="Type">int</span> n);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lcode.c.html#L339" title="lcode.c:339">luaK_stringK</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lobject.h.html#L303" title="lobject.h:303">TString</a> *s);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lcode.c.html#L351" title="lcode.c:351">luaK_intK</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lua.h.html#L91" title="lua.h:91">lua_Integer</a> n);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L406" title="lcode.c:406">luaK_dischargevars</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *e);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lcode.c.html#L527" title="lcode.c:527">luaK_exp2anyreg</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *e);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L541" title="lcode.c:541">luaK_exp2anyregup</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *e);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L519" title="lcode.c:519">luaK_exp2nextreg</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *e);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L547" title="lcode.c:547">luaK_exp2val</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *e);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lcode.c.html#L555" title="lcode.c:555">luaK_exp2RK</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *e);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L618" title="lcode.c:618">luaK_self</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *e, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *key);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L736" title="lcode.c:736">luaK_indexed</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *t, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *k);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L654" title="lcode.c:654">luaK_goiftrue</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *e);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L678" title="lcode.c:678">luaK_goiffalse</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *e);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L591" title="lcode.c:591">luaK_storevar</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *var, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *e);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L382" title="lcode.c:382">luaK_setreturns</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *e, <span class="Type">int</span> nresults);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L394" title="lcode.c:394">luaK_setoneret</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *e);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lcode.c.html#L76" title="lcode.c:76">luaK_jump</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L86" title="lcode.c:86">luaK_ret</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <span class="Type">int</span> first, <span class="Type">int</span> nret);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L186" title="lcode.c:186">luaK_patchlist</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <span class="Type">int</span> list, <span class="Type">int</span> target);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L209" title="lcode.c:209">luaK_patchtohere</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <span class="Type">int</span> list);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L196" title="lcode.c:196">luaK_patchclose</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <span class="Type">int</span> list, <span class="Type">int</span> level);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L215" title="lcode.c:215">luaK_concat</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <span class="Type">int</span> *l1, <span class="Type">int</span> l2);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">int</span> <a href="lcode.c.html#L111" title="lcode.c:111">luaK_getlabel</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L840" title="lcode.c:840">luaK_prefix</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="#L40" title="lcode.h:40">UnOpr</a> op, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *v, <span class="Type">int</span> line);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L854" title="lcode.c:854">luaK_infix</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="#L26" title="lcode.h:26">BinOpr</a> op, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *v);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L884" title="lcode.c:884">luaK_posfix</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <a href="#L26" title="lcode.h:26">BinOpr</a> op, <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *v1,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="lparser.h.html#L41" title="lparser.h:41">expdesc</a> *v2, <span class="Type">int</span> line);<br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <span class="Type">void</span> <a href="lcode.c.html#L940" title="lcode.c:940">luaK_setlist</a> (<a href="lparser.h.html#L98" title="lparser.h:98">FuncState</a> *fs, <span class="Type">int</span> base, <span class="Type">int</span> nelems, <span class="Type">int</span> tostore);<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="PreProc">#endif<br/></li>
</ol></span></code>
 </body>
</html>
