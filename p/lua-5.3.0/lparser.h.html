<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>lparser.h - src</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

code {
    font-family: consolas, monospace;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
  <h3>lparser.h - src</h3>
   <a href="../index.html"> Table of Contents </a>
 <h4>Data types defined</h4>
 <ul>
<li><a href="#L82">Dyndata</a></li>
<li><a href="#L90">Dyndata</a></li>
<li><a href="#L98">FuncState</a></li>
<li><a href="#L113">FuncState</a></li>
<li><a href="#L65">Labeldesc</a></li>
<li><a href="#L70">Labeldesc</a></li>
<li><a href="#L74">Labellist</a></li>
<li><a href="#L78">Labellist</a></li>
<li><a href="#L59">Vardesc</a></li>
<li><a href="#L61">Vardesc</a></li>
<li><a href="#L41">expdesc</a></li>
<li><a href="#L55">expdesc</a></li>
<li><a href="#L35">expkind</a></li>
</ul>
 <h4>Macros defined</h4>
 <ul>
<li><a href="#L8">lparser_h</a></li>
<li><a href="#L39">vkisinreg</a></li>
<li><a href="#L38">vkisvar</a></li>
</ul>
 <h4>Source code</h4>

  <code><ol><li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** $Id: lparser.h,v 1.74 2014/10/25 11:50:46 roberto Exp $<br/></li>
<li></span><span class="Comment">** Lua Parser<br/></li>
<li></span><span class="Comment">** See Copyright Notice in lua.h<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L8" title="lparser.h:8">lparser_h</a><br/></li>
<li><a id="L8">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">lparser_h</span><br/></li>
<li></span><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&quot;llimits.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;lobject.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;lzio.h&quot;<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/*<br/></li>
<li></span><span class="Comment">** Expression descriptor<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><span class="Type">typedef</span> <span class="Type">enum</span> {<br/></li>
<li>&nbsp; VVOID,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* no value */<br/></li>
<li></span>&nbsp; VNIL,<br/></li>
<li>&nbsp; VTRUE,<br/></li>
<li>&nbsp; VFALSE,<br/></li>
<li>&nbsp; VK,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* info = index of constant in 'k' */<br/></li>
<li></span>&nbsp; VKFLT,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* nval = numerical float value */<br/></li>
<li></span>&nbsp; VKINT,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* nval = numerical integer value */<br/></li>
<li></span>&nbsp; VNONRELOC,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* info = result register */<br/></li>
<li></span>&nbsp; VLOCAL,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* info = local register */<br/></li>
<li></span>&nbsp; VUPVAL,&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">/* info = index of upvalue in 'upvalues' */<br/></li>
<li></span>&nbsp; VINDEXED,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* t = table register/upvalue; idx = index R/K */<br/></li>
<li></span>&nbsp; VJMP,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* info = instruction pc */<br/></li>
<li></span>&nbsp; VRELOCABLE,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* info = instruction pc */<br/></li>
<li></span>&nbsp; VCALL,&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* info = instruction pc */<br/></li>
<li></span>&nbsp; VVARARG&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/* info = instruction pc */<br/></li>
<li><a id="L35">&#x200c;</a></span>} <span class="linkable">expkind</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L38">&#x200c;</a><span class="PreProc">#define <span class="linkable">vkisvar</span>(k)&nbsp; &nbsp; &nbsp; &nbsp; (VLOCAL &lt;= (k) &amp;&amp; (k) &lt;= VINDEXED)<br/></li>
<li><a id="L39">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">vkisinreg</span>(k)&nbsp; &nbsp; &nbsp; &nbsp; ((k) == VNONRELOC || (k) == VLOCAL)<br/></li>
<li></span><br/></li>
<li><a id="L41">&#x200c;</a><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">expdesc</span> {<br/></li>
<li>&nbsp; <a href="#L35" title="lparser.h:35">expkind</a> k;<br/></li>
<li>&nbsp; <span class="Type">union</span> {<br/></li>
<li>&nbsp; &nbsp; <span class="Type">struct</span> {&nbsp; <span class="Comment">/* for indexed variables (VINDEXED) */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Type">short</span> idx;&nbsp; <span class="Comment">/* index (R/K) */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> t;&nbsp; <span class="Comment">/* table (register or upvalue) */<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> vt;&nbsp; <span class="Comment">/* whether 't' is register (VLOCAL) or upvalue (VUPVAL) */<br/></li>
<li></span>&nbsp; &nbsp; } ind;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">int</span> info;&nbsp; <span class="Comment">/* for generic use */<br/></li>
<li></span>&nbsp; &nbsp; <a href="lua.h.html#L87" title="lua.h:87">lua_Number</a> nval;&nbsp; <span class="Comment">/* for VKFLT */<br/></li>
<li></span>&nbsp; &nbsp; <a href="lua.h.html#L91" title="lua.h:91">lua_Integer</a> ival;&nbsp; &nbsp; <span class="Comment">/* for VKINT */<br/></li>
<li></span>&nbsp; } u;<br/></li>
<li>&nbsp; <span class="Type">int</span> t;&nbsp; <span class="Comment">/* patch list of 'exit when true' */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> f;&nbsp; <span class="Comment">/* patch list of 'exit when false' */<br/></li>
<li><a id="L55">&#x200c;</a></span>} <span class="linkable">expdesc</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/* description of active local variable */<br/></li>
<li><a id="L59">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">Vardesc</span> {<br/></li>
<li>&nbsp; <span class="Type">short</span> idx;&nbsp; <span class="Comment">/* variable index in stack */<br/></li>
<li><a id="L61">&#x200c;</a></span>} <span class="linkable">Vardesc</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/* description of pending goto statements and label statements */<br/></li>
<li><a id="L65">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">Labeldesc</span> {<br/></li>
<li>&nbsp; <a href="lobject.h.html#L303" title="lobject.h:303">TString</a> *name;&nbsp; <span class="Comment">/* label identifier */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> pc;&nbsp; <span class="Comment">/* position in code */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> line;&nbsp; <span class="Comment">/* line where it appeared */<br/></li>
<li></span>&nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> nactvar;&nbsp; <span class="Comment">/* local level where it appears in current <a href="lparser.c.html#L1087" title="lparser.c:1087">block</a> */<br/></li>
<li><a id="L70">&#x200c;</a></span>} <span class="linkable">Labeldesc</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/* list of labels or gotos */<br/></li>
<li><a id="L74">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">Labellist</span> {<br/></li>
<li>&nbsp; <a href="#L65" title="lparser.h:65">Labeldesc</a> *arr;&nbsp; <span class="Comment">/* array */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> n;&nbsp; <span class="Comment">/* number of entries in use */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> size;&nbsp; <span class="Comment">/* array size */<br/></li>
<li><a id="L78">&#x200c;</a></span>} <span class="linkable">Labellist</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/* dynamic structures used by the parser */<br/></li>
<li><a id="L82">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">Dyndata</span> {<br/></li>
<li>&nbsp; <span class="Type">struct</span> {&nbsp; <span class="Comment">/* list of active local variables */<br/></li>
<li></span>&nbsp; &nbsp; <a href="#L59" title="lparser.h:59">Vardesc</a> *arr;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">int</span> n;<br/></li>
<li>&nbsp; &nbsp; <span class="Type">int</span> size;<br/></li>
<li>&nbsp; } actvar;<br/></li>
<li>&nbsp; <a href="#L74" title="lparser.h:74">Labellist</a> gt;&nbsp; <span class="Comment">/* list of pending gotos */<br/></li>
<li></span>&nbsp; <a href="#L74" title="lparser.h:74">Labellist</a> label;&nbsp;&nbsp; <span class="Comment">/* list of active labels */<br/></li>
<li><a id="L90">&#x200c;</a></span>} <span class="linkable">Dyndata</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">/* control of blocks */<br/></li>
<li></span><span class="Type">struct</span> <a href="lparser.c.html#L48" title="lparser.c:48">BlockCnt</a>;&nbsp; <span class="Comment">/* defined in lparser.c */<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* state needed to generate code for a given function */<br/></li>
<li><a id="L98">&#x200c;</a></span><span class="Type">typedef</span> <span class="Type">struct</span> <span class="linkable">FuncState</span> {<br/></li>
<li>&nbsp; <a href="lobject.h.html#L398" title="lobject.h:398">Proto</a> *f;&nbsp; <span class="Comment">/* current function header */<br/></li>
<li></span>&nbsp; <span class="Type">struct</span> <a href="#L98" title="lparser.h:98">FuncState</a> *prev;&nbsp; <span class="Comment">/* enclosing function */<br/></li>
<li></span>&nbsp; <span class="Type">struct</span> <a href="llex.h.html#L58" title="llex.h:58">LexState</a> *ls;&nbsp; <span class="Comment">/* lexical state */<br/></li>
<li></span>&nbsp; <span class="Type">struct</span> <a href="lparser.c.html#L48" title="lparser.c:48">BlockCnt</a> *bl;&nbsp; <span class="Comment">/* chain of current blocks */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> pc;&nbsp; <span class="Comment">/* <a href="llex.c.html#L31" title="llex.c:31">next</a> position to code (equivalent to 'ncode') */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> lasttarget;&nbsp;&nbsp; <span class="Comment">/* 'label' of last 'jump label' */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> jpc;&nbsp; <span class="Comment">/* list of pending jumps to 'pc' */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> nk;&nbsp; <span class="Comment">/* number of elements in 'k' */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> np;&nbsp; <span class="Comment">/* number of elements in 'p' */<br/></li>
<li></span>&nbsp; <span class="Type">int</span> firstlocal;&nbsp; <span class="Comment">/* index of first local var (in <a href="#L82" title="lparser.h:82">Dyndata</a> array) */<br/></li>
<li></span>&nbsp; <span class="Type">short</span> nlocvars;&nbsp; <span class="Comment">/* number of elements in 'f-&gt;locvars' */<br/></li>
<li></span>&nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> nactvar;&nbsp; <span class="Comment">/* number of active local variables */<br/></li>
<li></span>&nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> nups;&nbsp; <span class="Comment">/* number of upvalues */<br/></li>
<li></span>&nbsp; <a href="llimits.h.html#L35" title="llimits.h:35">lu_byte</a> <a href="lcode.c.html#L294" title="lcode.c:294">freereg</a>;&nbsp; <span class="Comment">/* first free register */<br/></li>
<li><a id="L113">&#x200c;</a></span>} <span class="linkable">FuncState</span>;<br/></li>
<li><br/></li>
<li><br/></li>
<li><a href="luaconf.h.html#L255" title="luaconf.h:255">LUAI_FUNC</a> <a href="lobject.h.html#L444" title="lobject.h:444">LClosure</a> *<a href="lparser.c.html#L1623" title="lparser.c:1623">luaY_parser</a> (<a href="lstate.h.html#L149" title="lstate.h:149">lua_State</a> *L, <a href="lzio.h.html#L18" title="lzio.h:18">ZIO</a> *z, <a href="lzio.h.html#L23" title="lzio.h:23">Mbuffer</a> *buff,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="#L82" title="lparser.h:82">Dyndata</a> *dyd, <span class="Type">const</span> <span class="Type">char</span> *name, <span class="Type">int</span> firstchar);<br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="PreProc">#endif<br/></li>
</ol></span></code>
 </body>
</html>
